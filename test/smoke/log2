/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke /home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke

TEST_DIR: aomp_mappings	TEST_NAME: aomp_mappings	MAKE: make -C aomp_mappings clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/aomp_mappings'
rm -f aomp_mappings aomp_mappings.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/aomp_mappings'

TEST_DIR: DeclareSharedMemory	TEST_NAME: DeclareSharedMemory	MAKE: make -C DeclareSharedMemory clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/DeclareSharedMemory'
rm -f DeclareSharedMemory DeclareSharedMemory.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/DeclareSharedMemory'

TEST_DIR: assertok_error	TEST_NAME: assertok_error	MAKE: make -C assertok_error clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/assertok_error'
rm -f assertok_error assertok_error.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/assertok_error'

TEST_DIR: atomic	TEST_NAME: atomic	MAKE: make -C atomic clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/atomic'
rm -f atomic atomic.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/atomic'

TEST_DIR: atomic_double	TEST_NAME: atomic_double	MAKE: make -C atomic_double clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/atomic_double'
rm -f atomic_double atomic_double.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/atomic_double'

TEST_DIR: class	TEST_NAME: class	MAKE: make -C class clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/class'
rm -f class class.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/class'

TEST_DIR: collapse	TEST_NAME: collapse	MAKE: make -C collapse clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/collapse'
rm -f collapse collapse.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/collapse'

TEST_DIR: data_enter_issue01	TEST_NAME: data_enter_issue01	MAKE: make -C data_enter_issue01 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/data_enter_issue01'
rm -f data_enter_issue01 data_enter_issue01.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/data_enter_issue01'

TEST_DIR: data_issue_59	TEST_NAME: data_issue_59	MAKE: make -C data_issue_59 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/data_issue_59'
rm -f data_issue_59 data_issue_59.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/data_issue_59'

TEST_DIR: decl_targ	TEST_NAME: decl_targ	MAKE: make -C decl_targ clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/decl_targ'
rm -f decl_targ decl_targ.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/decl_targ'

TEST_DIR: devices	TEST_NAME: devices	MAKE: make -C devices clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/devices'
rm -f devices devices.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/devices'

TEST_DIR: dotprod_prob	TEST_NAME: dotprod_prob	MAKE: make -C dotprod_prob clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/dotprod_prob'
rm -f dotprod_prob dotprod_prob.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/dotprod_prob'

TEST_DIR: extern_init	TEST_NAME: extern_init	MAKE: make -C extern_init clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/extern_init'
rm -f extern_init extern_init.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/extern_init'

TEST_DIR: firstprivate	TEST_NAME: firstprivate	MAKE: make -C firstprivate clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/firstprivate'
rm -f firstprivate firstprivate.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/firstprivate'

TEST_DIR: firstprivate2	TEST_NAME: firstprivate2	MAKE: make -C firstprivate2 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/firstprivate2'
rm -f firstprivate2 firstprivate2.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/firstprivate2'

TEST_DIR: flags	TEST_NAME: flags	MAKE: make -C flags clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/flags'
rm -f flags flags.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/flags'

TEST_DIR: function	TEST_NAME: function	MAKE: make -C function clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function'
rm -f function function.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function'

TEST_DIR: function_overload	TEST_NAME: function_overload	MAKE: make -C function_overload clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function_overload'
rm -f function_overload function_overload.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function_overload'

TEST_DIR: function_template	TEST_NAME: function_template	MAKE: make -C function_template clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function_template'
rm -f function_template function_template.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function_template'

TEST_DIR: gdb_teams	TEST_NAME: gdb_teams	MAKE: make -C gdb_teams clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/gdb_teams'
Makefile:18: warning: overriding recipe for target 'run'
../Makefile.rules:30: warning: ignoring old recipe for target 'run'
rm -f gdb_teams gdb_teams.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/gdb_teams'

TEST_DIR: helloworld	TEST_NAME: helloworld	MAKE: make -C helloworld clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/helloworld'
rm -f helloworld helloworld.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/helloworld'

TEST_DIR: hip_device_compile	TEST_NAME: hip_device_compile	MAKE: make -C hip_device_compile clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/hip_device_compile'
rm -f hip_device_compile hip_device_compile.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/hip_device_compile'

TEST_DIR: hip_rocblas	TEST_NAME: hip_rocblas	MAKE: make -C hip_rocblas clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/hip_rocblas'
Makefile:2: "This test requires rocblas to be installed in /opt/rocm/rocblas. Rocblas works on AMD only."
rm -f hip_rocblas hip_rocblas.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/hip_rocblas'

TEST_DIR: issue_flang_libomp	TEST_NAME: issue_flang_libomp	MAKE: make -C issue_flang_libomp clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_flang_libomp'
rm -f issue_flang_libomp issue_flang_libomp.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_flang_libomp'

TEST_DIR: issue_001	TEST_NAME: issue_001	MAKE: make -C issue_001 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_001'
rm -f issue_001 issue_001.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_001'

TEST_DIR: issue_002	TEST_NAME: issue_002	MAKE: make -C issue_002 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_002'
rm -f issue_002 issue_002.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_002'

TEST_DIR: launch_latency	TEST_NAME: launch_latency	MAKE: make -C launch_latency clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/launch_latency'
rm -f launch_latency launch_latency.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/launch_latency'

TEST_DIR: liba_bundled	TEST_NAME: liba_bundled	MAKE: make -C liba_bundled clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled'
make -C MyDeviceLib clean
make[2]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled/MyDeviceLib'
rm -f ./build/*.bc ./build/*.ll ./build/*.o *.a
rmdir ./build
make[2]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled/MyDeviceLib'
rm -f liba_bundled liba_bundled.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled'

TEST_DIR: liba_bundled_cmdline	TEST_NAME: liba_bundled	MAKE: make -C liba_bundled_cmdline clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline'
make -C MyDeviceLib clean; make -C MyHostLib clean; rm -f hfunc0.o
make[2]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyDeviceLib'
rm -f ./build/*.bc ./build/*.ll ./build/*.o *.a
rmdir ./build
make[2]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyDeviceLib'
make[2]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyHostLib'
rm -f ./build/*.bc ./build/*.ll ./build/*.o *.a
rmdir ./build
make[2]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyHostLib'
rm -f liba_bundled liba_bundled.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline'

TEST_DIR: lto_teams	TEST_NAME: lto_teams	MAKE: make -C lto_teams clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/lto_teams'
rm -f lto_teams lto_teams.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/lto_teams'

TEST_DIR: map_zero_bug	TEST_NAME: map_zero_bug	MAKE: make -C map_zero_bug clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/map_zero_bug'
rm -f map_zero_bug map_zero_bug.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/map_zero_bug'

TEST_DIR: math_flog	TEST_NAME: math_flog	MAKE: make -C math_flog clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_flog'
rm -f math_flog math_flog.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_flog'

TEST_DIR: math_modff	TEST_NAME: math_modff	MAKE: make -C math_modff clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_modff'
rm -f math_modff math_modff.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_modff'

TEST_DIR: math_sqrt_float	TEST_NAME: math_sqrt_float	MAKE: make -C math_sqrt_float clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_sqrt_float'
rm -f math_sqrt_float math_sqrt_float.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_sqrt_float'

TEST_DIR: MaxNumThrds	TEST_NAME: maxnum	MAKE: make -C MaxNumThrds clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/MaxNumThrds'
rm -f maxnum maxnum.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/MaxNumThrds'

TEST_DIR: nativetests	TEST_NAME: nativetests	MAKE: make -C nativetests clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nativetests'
rm -f nativetests nativetests.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nativetests'

TEST_DIR: nested_loop	TEST_NAME: nested_loop	MAKE: make -C nested_loop clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nested_loop'
rm -f nested_loop nested_loop.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nested_loop'

TEST_DIR: nested_par3	TEST_NAME: nested_par3	MAKE: make -C nested_par3 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nested_par3'
rm -f nested_par3 nested_par3.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nested_par3'

TEST_DIR: nest_call_par2	TEST_NAME: nest_call_par2	MAKE: make -C nest_call_par2 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nest_call_par2'
rm -f nest_call_par2 nest_call_par2.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nest_call_par2'

TEST_DIR: omp_num_teams_SPMD	TEST_NAME: omp_num_teams_SPMD	MAKE: make -C omp_num_teams_SPMD clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/omp_num_teams_SPMD'
rm -f omp_num_teams_SPMD omp_num_teams_SPMD.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/omp_num_teams_SPMD'

TEST_DIR: omp_num_teams_generic	TEST_NAME: omp_num_teams_generic	MAKE: make -C omp_num_teams_generic clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/omp_num_teams_generic'
rm -f omp_num_teams_generic omp_num_teams_generic.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/omp_num_teams_generic'

TEST_DIR: OmpHipMallocManaged	TEST_NAME: OmpHipMallocManaged	MAKE: make -C OmpHipMallocManaged clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/OmpHipMallocManaged'
rm -f OmpHipMallocManaged OmpHipMallocManaged.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/OmpHipMallocManaged'

TEST_DIR: pfspecifier	TEST_NAME: pfspecifier	MAKE: make -C pfspecifier clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/pfspecifier'
rm -f pfspecifier pfspecifier.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/pfspecifier'

TEST_DIR: pfspecifier_str	TEST_NAME: pfspecifier_str	MAKE: make -C pfspecifier_str clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/pfspecifier_str'
rm -f pfspecifier_str pfspecifier_str.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/pfspecifier_str'

TEST_DIR: red_bug_51	TEST_NAME: red_bug_51	MAKE: make -C red_bug_51 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/red_bug_51'
rm -f red_bug_51 red_bug_51.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/red_bug_51'

TEST_DIR: reduce	TEST_NAME: reduce	MAKE: make -C reduce clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduce'
rm -f reduce reduce.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduce'

TEST_DIR: reduction	TEST_NAME: reduction	MAKE: make -C reduction clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction'
rm -f reduction reduction.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction'

TEST_DIR: reduction_array_section	TEST_NAME: reduction_array_section	MAKE: make -C reduction_array_section clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_array_section'
rm -f reduction_array_section reduction_array_section.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_array_section'

TEST_DIR: reduction_issue_16	TEST_NAME: reduction_issue_16	MAKE: make -C reduction_issue_16 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_issue_16'
rm -f reduction_issue_16 reduction_issue_16.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_issue_16'

TEST_DIR: reduction_team	TEST_NAME: reduction_team	MAKE: make -C reduction_team clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_team'
rm -f reduction_team reduction_team.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_team'

TEST_DIR: reduction_teams	TEST_NAME: reduction_teams	MAKE: make -C reduction_teams clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_teams'
rm -f reduction_teams reduction_teams.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_teams'

TEST_DIR: reduction_teams_distribute_parallel	TEST_NAME: reduction_teams_distribute_parallel	MAKE: make -C reduction_teams_distribute_parallel clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_teams_distribute_parallel'
rm -f reduction_teams_distribute_parallel reduction_teams_distribute_parallel.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_teams_distribute_parallel'

TEST_DIR: reduc_map_prob	TEST_NAME: reduc_map_prob	MAKE: make -C reduc_map_prob clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduc_map_prob'
rm -f reduc_map_prob reduc_map_prob.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduc_map_prob'

TEST_DIR: schedule	TEST_NAME: schedule	MAKE: make -C schedule clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/schedule'
rm -f schedule schedule.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/schedule'

TEST_DIR: simd	TEST_NAME: simd	MAKE: make -C simd clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/simd'
rm -f simd simd.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/simd'

TEST_DIR: snap_red	TEST_NAME: snap_red	MAKE: make -C snap_red clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/snap_red'
rm -f snap_red snap_red.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/snap_red'

TEST_DIR: stream	TEST_NAME: stream	MAKE: make -C stream clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/stream'
rm -f stream stream.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/stream'

TEST_DIR: targ_declare	TEST_NAME: targ_declare	MAKE: make -C targ_declare clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/targ_declare'
rm -f targ_declare targ_declare.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/targ_declare'

TEST_DIR: targ_static	TEST_NAME: targ_static	MAKE: make -C targ_static clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/targ_static'
rm -f targ_static targ_static.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/targ_static'

TEST_DIR: target-in-other-source	TEST_NAME: target-in-other-source	MAKE: make -C target-in-other-source clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/target-in-other-source'
rm -f target-in-other-source target-in-other-source.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/target-in-other-source'

TEST_DIR: target_teams_reduction	TEST_NAME: target_teams_reduction	MAKE: make -C target_teams_reduction clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/target_teams_reduction'
rm -f target_teams_reduction target_teams_reduction.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/target_teams_reduction'

TEST_DIR: tasks	TEST_NAME: tasks	MAKE: make -C tasks clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/tasks'
rm -f tasks tasks.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/tasks'

TEST_DIR: teams	TEST_NAME: teams	MAKE: make -C teams clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams'
rm -f teams teams.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams'

TEST_DIR: teams_nest	TEST_NAME: teams_nest	MAKE: make -C teams_nest clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams_nest'
rm -f teams_nest teams_nest.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams_nest'

TEST_DIR: teams512-info	TEST_NAME: teams512-info	MAKE: make -C teams512-info clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams512-info'
rm -f teams512-info obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.cubin
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams512-info'

TEST_DIR: test	TEST_NAME: test	MAKE: make -C test clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/test'
rm -f test test.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/test'

TEST_DIR: thread_limit	TEST_NAME: thread_limit	MAKE: make -C thread_limit clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/thread_limit'
rm -f thread_limit thread_limit.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/thread_limit'

TEST_DIR: threads	TEST_NAME: threads	MAKE: make -C threads clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/threads'
rm -f threads threads.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/threads'

TEST_DIR: Threads1xxx	TEST_NAME: Threads1xxx	MAKE: make -C Threads1xxx clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/Threads1xxx'
rm -f Threads1xxx Threads1xxx.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/Threads1xxx'

TEST_DIR: unique-kernel-name	TEST_NAME: unique-kernel-name	MAKE: make -C unique-kernel-name clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/unique-kernel-name'
rm -f unique-kernel-name unique-kernel-name.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/unique-kernel-name'

TEST_DIR: use_device_ptr	TEST_NAME: use_device_ptr	MAKE: make -C use_device_ptr clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/use_device_ptr'
rm -f use_device_ptr use_device_ptr.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/use_device_ptr'

TEST_DIR: veccopy	TEST_NAME: veccopy	MAKE: make -C veccopy clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/veccopy'
rm -f veccopy veccopy.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/veccopy'

TEST_DIR: vmuldemo	TEST_NAME: vmul	MAKE: make -C vmuldemo clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/vmuldemo'
rm -f vmul vmul.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/vmuldemo'

TEST_DIR: vmulsum	TEST_NAME: vmulsum	MAKE: make -C vmulsum clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/vmulsum'
rm -f vmulsum vmulsum.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/vmulsum'

[0;33mRUNNING ALL TESTS IN: /home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke[0m

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  DeclareSharedMemory.cpp -o DeclareSharedMemory  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  manyKernels.c -o manyKernels  
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/manyKernels-efe1f9-gfx90a-linked-5f5a2f.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/manyKernels-efe1f9-gfx90a-optimized-626702.bc
 #0 0x0000562d9bf07fef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x0000562d9bf059b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f7f4ae9d420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f7f4a93a00b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f7f4a919859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f7f4a919729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f7f4a919729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f7f4a92afd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x0000562d9ad36c11 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7c11)
 #9 0x0000562d9ad27625 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x0000562d9ad281ed llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a91ed)
#11 0x0000562d9b7248b2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x0000562d9b72542e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x0000562d9b730702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x0000562d9b753639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#15 0x0000562d9b76716b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x0000562d9b7675fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x0000562d9b768304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x0000562d9b6d2a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#19 0x0000562d9b6e552b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#20 0x0000562d9b6e5bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#21 0x0000562d9b6e5dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#22 0x0000562d9b6e6266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#23 0x0000562d9b768533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x0000562d9b6d2a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#25 0x0000562d9b6e552b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#26 0x0000562d9b6e5bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#27 0x0000562d9b6e5dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#28 0x0000562d9b6e6266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#29 0x0000562d9b768533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x0000562d9b6d2a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#31 0x0000562d9b6e552b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#32 0x0000562d9b6e5bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#33 0x0000562d9b6e5dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#34 0x0000562d9b6e6266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#35 0x0000562d9b76727c (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x0000562d9b7683cb (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x0000562d9b6d2a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#38 0x0000562d9b6e552b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#39 0x0000562d9b6e5bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#40 0x0000562d9b6e5dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#41 0x0000562d9b6e6838 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67838)
#42 0x0000562d9b7481cc (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x0000562d9b6d2a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#44 0x0000562d9b6e552b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#45 0x0000562d9b6e487d llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6587d)
#46 0x0000562d9b6e4a20 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65a20)
#47 0x0000562d9b6e4cf0 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65cf0)
#48 0x0000562d9b6e518f llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6618f)
#49 0x0000562d9b6e53f8 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c663f8)
#50 0x0000562d9b83ad44 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x0000562d9b83b2d2 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x0000562d9b83b857 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x0000562d9b83dd41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x0000562d9b84035d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#55 0x0000562d9c2a7846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#56 0x0000562d9ab2a817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x0000562d9b7d24b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#58 0x0000562d9ab2ec20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x0000562d9b7d2466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#60 0x0000562d9ab2cca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x0000562d9b7d867a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#62 0x0000562d9c2a4406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#63 0x0000562d9b6612aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#64 0x0000562d9a20d3f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x0000562d9a166113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007f7f4a91b083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x0000562d9a1feebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: manyKernels] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  MasterBarrier.cpp -o MasterBarrier  

/opt/rocm-5.6.0-3024/llvm//bin/clang -isystem/opt/rocm-5.6.0-3024/llvm//include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  maxnum.c -o maxnum  

/opt/rocm-5.6.0-3024/llvm//bin/clang++ -lhip_hcc -DUSE_MALLOC=0 -DLARGE=0 -DITERS=1  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  OmpHipMallocManaged.cpp -o OmpHipMallocManaged  
OmpHipMallocManaged.cpp:59:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipInit(0);
    ^~~~~~~ ~
OmpHipMallocManaged.cpp:131:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(A);
    ^~~~~~~~~~~ ~
OmpHipMallocManaged.cpp:132:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(B);
    ^~~~~~~~~~~ ~
OmpHipMallocManaged.cpp:133:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(C);
    ^~~~~~~~~~~ ~
4 warnings generated.
OmpHipMallocManaged.cpp:59:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipInit(0);
    ^~~~~~~ ~
OmpHipMallocManaged.cpp:131:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(A);
    ^~~~~~~~~~~ ~
OmpHipMallocManaged.cpp:132:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(B);
    ^~~~~~~~~~~ ~
OmpHipMallocManaged.cpp:133:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(C);
    ^~~~~~~~~~~ ~
4 warnings generated.
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/LazyValueInfo.cpp:1637: llvm::ConstantRange llvm::LazyValueInfo::getConstantRange(llvm::Value*, llvm::Instruction*, bool): Assertion `V->getType()->isIntegerTy()' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/OmpHipMallocManaged-647f94-gfx90a-linked-3c0888.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/OmpHipMallocManaged-647f94-gfx90a-optimized-3ebc2c.bc
 #0 0x000056032000dfef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x000056032000b9b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fbfe6ab6420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fbfe655300b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fbfe6532859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fbfe6532729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fbfe6532729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fbfe6543fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000056031ed30c4f llvm::LazyValueInfo::getConstantRange(llvm::Value*, llvm::Instruction*, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x11abc4f)
 #9 0x000056031fc31731 processBinOp(llvm::BinaryOperator*, llvm::LazyValueInfo*) (.part.0) CorrelatedValuePropagation.cpp:0:0
#10 0x000056031fc38f12 runImpl(llvm::Function&, llvm::LazyValueInfo*, llvm::DominatorTree*, llvm::SimplifyQuery const&) CorrelatedValuePropagation.cpp:0:0
#11 0x000056031fc3ae28 llvm::CorrelatedValuePropagationPass::run(llvm::Function&, llvm::AnalysisManager<llvm::Function>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x20b5e28)
#12 0x00005603203ad206 llvm::detail::PassModel<llvm::Function, llvm::CorrelatedValuePropagationPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Function>>::run(llvm::Function&, llvm::AnalysisManager<llvm::Function>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828206)
#13 0x000056031e3c7554 llvm::detail::PassModel<llvm::Function, llvm::PassManager<llvm::Function, llvm::AnalysisManager<llvm::Function>>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Function>>::run(llvm::Function&, llvm::AnalysisManager<llvm::Function>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x842554)
#14 0x000056031ec38db6 llvm::CGSCCToFunctionPassAdaptor::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10b3db6)
#15 0x000056031e3ac116 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::CGSCCToFunctionPassAdaptor, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x827116)
#16 0x000056031ec30817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#17 0x000056031f8d84b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#18 0x000056031ec34c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#19 0x000056031f8d8466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#20 0x000056031ec32ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#21 0x000056031f8de67a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#22 0x00005603203aa406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#23 0x000056031f7672aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#24 0x000056031e3133f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#25 0x000056031e26c113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#26 0x00007fbfe6534083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#27 0x000056031e304ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: OmpHipMallocManaged] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang -isystem/opt/rocm-5.6.0-3024/llvm//include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  Threads1xxx.c -o Threads1xxx  

/opt/rocm-5.6.0-3024/llvm//bin/clang -isystem/opt/rocm-5.6.0-3024/llvm//include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  aomp_mappings.c -o aomp_mappings  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  assertok_error.c -o assertok_error  
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/assertok_error-545693-gfx90a-linked-2809b4.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/assertok_error-545693-gfx90a-optimized-ba2278.bc
 #0 0x00005603b2732fef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x00005603b27309b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f1648420420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f1647ebd00b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f1647e9c859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f1647e9c729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f1647e9c729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f1647eadfd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x00005603b1561c11 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7c11)
 #9 0x00005603b1552625 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x00005603b15531ed llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a91ed)
#11 0x00005603b1f4f8b2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x00005603b1f5042e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x00005603b1f5b702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x00005603b1f7e639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#15 0x00005603b1f9216b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x00005603b1f925fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x00005603b1f93304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x00005603b1efda7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#19 0x00005603b1f1052b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#20 0x00005603b1f10bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#21 0x00005603b1f10dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#22 0x00005603b1f11266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#23 0x00005603b1f93533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x00005603b1efda7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#25 0x00005603b1f1052b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#26 0x00005603b1f10bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#27 0x00005603b1f10dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#28 0x00005603b1f11266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#29 0x00005603b1f93533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x00005603b1efda7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#31 0x00005603b1f1052b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#32 0x00005603b1f10bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#33 0x00005603b1f10dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#34 0x00005603b1f11266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#35 0x00005603b1f9227c (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x00005603b1f933cb (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x00005603b1efda7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#38 0x00005603b1f1052b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#39 0x00005603b1f10bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#40 0x00005603b1f10dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#41 0x00005603b1f11838 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67838)
#42 0x00005603b1f731cc (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x00005603b1efda7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#44 0x00005603b1f1052b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#45 0x00005603b1f0f87d llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6587d)
#46 0x00005603b1f0fa20 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65a20)
#47 0x00005603b1f0fcf0 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65cf0)
#48 0x00005603b1f1018f llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6618f)
#49 0x00005603b1f103f8 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c663f8)
#50 0x00005603b2065d44 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x00005603b20662d2 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x00005603b2066857 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x00005603b2068d41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x00005603b206b35d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#55 0x00005603b2ad2846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#56 0x00005603b1355817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x00005603b1ffd4b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#58 0x00005603b1359c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x00005603b1ffd466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#60 0x00005603b1357ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x00005603b200367a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#62 0x00005603b2acf406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#63 0x00005603b1e8c2aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#64 0x00005603b0a383f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x00005603b0991113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007f1647e9e083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x00005603b0a29ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: assertok_error] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  atomic.c -o atomic  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  atomic_double.c -o atomic_double  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  class.cpp -o class  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  collapse.c -o collapse  
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/include/llvm/Support/Casting.h:579: decltype(auto) llvm::cast(From*) [with To = llvm::IntegerType; From = const llvm::Type]: Assertion `isa<To>(Val) && "cast<Ty>() argument of incompatible type!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/collapse-f30601-gfx90a-linked-7de1fc.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/collapse-f30601-gfx90a-optimized-3e3294.bc
 #0 0x000055de9fa9cfef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x000055de9fa9a9b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f8795539420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f8794fd600b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f8794fb5859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f8794fb5729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f8794fb5729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f8794fc6fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055de9e7afe6f (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x119be6f)
 #9 0x000055de9e7b7ec1 getValueFromCondition(llvm::Value*, llvm::Value*, bool) LazyValueInfo.cpp:0:0
#10 0x000055de9e7b9698 getEdgeValueLocal(llvm::Value*, llvm::BasicBlock*, llvm::BasicBlock*) LazyValueInfo.cpp:0:0
#11 0x000055de9e7bd0f7 (anonymous namespace)::LazyValueInfoImpl::getEdgeValue(llvm::Value*, llvm::BasicBlock*, llvm::BasicBlock*, llvm::Instruction*) LazyValueInfo.cpp:0:0
#12 0x000055de9e7bd875 (anonymous namespace)::LazyValueInfoImpl::solve() LazyValueInfo.cpp:0:0
#13 0x000055de9e7bf6d1 (anonymous namespace)::LazyValueInfoImpl::getValueInBlock(llvm::Value*, llvm::BasicBlock*, llvm::Instruction*) LazyValueInfo.cpp:0:0
#14 0x000055de9e7bfaed llvm::LazyValueInfo::getConstantRange(llvm::Value*, llvm::Instruction*, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x11abaed)
#15 0x000055de9f2ba547 (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#16 0x000055de9f2c5702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#17 0x000055de9f2e8639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#18 0x000055de9f2fc16b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#19 0x000055de9f2fc5fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#20 0x000055de9f2fd304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#21 0x000055de9f267a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#22 0x000055de9f27a52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#23 0x000055de9f281252 llvm::Attributor::runTillFixpoint() (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6d252)
#24 0x000055de9f294066 llvm::Attributor::run() (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c80066)
#25 0x000055de9f3d06a9 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#26 0x000055de9f3d2d41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#27 0x000055de9f3d535d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#28 0x000055de9fe3c846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#29 0x000055de9e6bf817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#30 0x000055de9f3674b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#31 0x000055de9e6c3c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#32 0x000055de9f367466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#33 0x000055de9e6c1ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#34 0x000055de9f36d67a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#35 0x000055de9fe39406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#36 0x000055de9f1f62aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#37 0x000055de9dda23f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#38 0x000055de9dcfb113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#39 0x00007f8794fb7083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#40 0x000055de9dd93ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: collapse] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/aompcc -v complex.cpp
Warning: aompcc is now deprecated.
#   
#Info:  AOMP Path:	/opt/rocm-5.6.0-3024/llvm//bin
#Info:  How called:	aompcc
#Info:  Run date:	Mon Mar  6 01:27:58 UTC 2023
#Info:  Input files:	complex.cpp
#Info:  Code object:	/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/complex/a.out
#   
/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O3 -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a   -o  "/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/complex/a.out" "complex.cpp"

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O0  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  data_enter_issue01.cpp -o data_enter_issue01  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  data_issue_59.cpp -o data_issue_59  
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/data_issue_59-24a88b-gfx90a-linked-c2318e.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/data_issue_59-24a88b-gfx90a-optimized-9076c9.bc
 #0 0x000055d5b72dcfef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x000055d5b72da9b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f3b9896a420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f3b9840700b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f3b983e6859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f3b983e6729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f3b983e6729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f3b983f7fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055d5b610bc11 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7c11)
 #9 0x000055d5b60fc625 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x000055d5b60fd1ed llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a91ed)
#11 0x000055d5b6af98b2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000055d5b6afa42e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x000055d5b6b05702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x000055d5b6b28639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#15 0x000055d5b6b3c16b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x000055d5b6b3c5fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x000055d5b6b3d304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x000055d5b6aa7a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#19 0x000055d5b6aba52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#20 0x000055d5b6ababcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#21 0x000055d5b6abadde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#22 0x000055d5b6abb266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#23 0x000055d5b6b3d533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x000055d5b6aa7a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#25 0x000055d5b6aba52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#26 0x000055d5b6ababcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#27 0x000055d5b6abadde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#28 0x000055d5b6abb266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#29 0x000055d5b6b3d533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x000055d5b6aa7a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#31 0x000055d5b6aba52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#32 0x000055d5b6ababcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#33 0x000055d5b6abadde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#34 0x000055d5b6abb266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#35 0x000055d5b6b3c27c (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x000055d5b6b3d3cb (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x000055d5b6aa7a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#38 0x000055d5b6aba52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#39 0x000055d5b6ababcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#40 0x000055d5b6abadde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#41 0x000055d5b6abb838 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67838)
#42 0x000055d5b6b1d1cc (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x000055d5b6aa7a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#44 0x000055d5b6aba52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#45 0x000055d5b6ab987d llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6587d)
#46 0x000055d5b6ab9a20 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65a20)
#47 0x000055d5b6ab9cf0 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65cf0)
#48 0x000055d5b6aba18f llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6618f)
#49 0x000055d5b6aba3f8 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c663f8)
#50 0x000055d5b6c0fd44 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x000055d5b6c102d2 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x000055d5b6c10857 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x000055d5b6c12d41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x000055d5b6c1535d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#55 0x000055d5b767c846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#56 0x000055d5b5eff817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x000055d5b6ba74b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#58 0x000055d5b5f03c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x000055d5b6ba7466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#60 0x000055d5b5f01ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x000055d5b6bad67a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#62 0x000055d5b7679406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#63 0x000055d5b6a362aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#64 0x000055d5b55e23f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x000055d5b553b113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007f3b983e8083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x000055d5b55d3ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: data_issue_59] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/flang  -O3 -w -i8 -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  decl_targ.f95 -o decl_targ  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  devices.c -o devices  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  dotprod_prob.c -o dotprod_prob  
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/dotprod_prob-3e1858-gfx90a-linked-b10c25.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/dotprod_prob-3e1858-gfx90a-optimized-074510.bc
 #0 0x0000556433391fef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x000055643338f9b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f2047e9d420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f204793a00b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f2047919859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f2047919729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f2047919729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f204792afd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x00005564321c0c11 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7c11)
 #9 0x00005564321b1625 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x00005564321b21ed llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a91ed)
#11 0x0000556432bae8b2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x0000556432baf42e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x0000556432bba702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x0000556432bdd639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#15 0x0000556432bf116b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x0000556432bf15fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x0000556432bf2304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x0000556432b5ca7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#19 0x0000556432b6f52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#20 0x0000556432b6fbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#21 0x0000556432b6fdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#22 0x0000556432b70266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#23 0x0000556432bf2533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x0000556432b5ca7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#25 0x0000556432b6f52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#26 0x0000556432b6fbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#27 0x0000556432b6fdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#28 0x0000556432b70266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#29 0x0000556432bf2533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x0000556432b5ca7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#31 0x0000556432b6f52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#32 0x0000556432b6fbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#33 0x0000556432b6fdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#34 0x0000556432b70266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#35 0x0000556432bf2533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x0000556432b5ca7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#37 0x0000556432b6f52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#38 0x0000556432b6fbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#39 0x0000556432b6fdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#40 0x0000556432b70266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#41 0x0000556432bf127c (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x0000556432bf23cb (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x0000556432b5ca7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#44 0x0000556432b6f52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#45 0x0000556432b6fbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#46 0x0000556432b6fdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#47 0x0000556432b70838 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67838)
#48 0x0000556432bd21cc (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x0000556432b5ca7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#50 0x0000556432b6f52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#51 0x0000556432b6e87d llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6587d)
#52 0x0000556432b6ea20 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65a20)
#53 0x0000556432b6ecf0 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65cf0)
#54 0x0000556432b6f18f llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6618f)
#55 0x0000556432b6f3f8 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c663f8)
#56 0x0000556432cc4d44 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x0000556432cc52d2 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x0000556432cc5857 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x0000556432cc7d41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x0000556432cca35d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#61 0x0000556433731846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#62 0x0000556431fb4817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x0000556432c5c4b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#64 0x0000556431fb8c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x0000556432c5c466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#66 0x0000556431fb6ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x0000556432c6267a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#68 0x000055643372e406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#69 0x0000556432aeb2aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#70 0x00005564316973f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x00005564315f0113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007f204791b083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x0000556431688ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: dotprod_prob] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  extern_init.c -o extern_init  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  firstprivate.c -o firstprivate  
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/firstprivate-d288ba-gfx90a-linked-c1f657.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/firstprivate-d288ba-gfx90a-optimized-4467ae.bc
 #0 0x00005556f0961fef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x00005556f095f9b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f3ad63c4420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f3ad5e6100b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f3ad5e40859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f3ad5e40729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f3ad5e40729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f3ad5e51fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x00005556ef790c11 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7c11)
 #9 0x00005556ef781625 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x00005556ef7821ed llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a91ed)
#11 0x00005556f017e8b2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x00005556f017f42e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x00005556f018a702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x00005556f01ad639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#15 0x00005556f01c116b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x00005556f01c15fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x00005556f01c2304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x00005556f012ca7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#19 0x00005556f013f52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#20 0x00005556f013fbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#21 0x00005556f013fdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#22 0x00005556f0140266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#23 0x00005556f01c2533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x00005556f012ca7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#25 0x00005556f013f52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#26 0x00005556f013fbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#27 0x00005556f013fdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#28 0x00005556f0140266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#29 0x00005556f01c2533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x00005556f012ca7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#31 0x00005556f013f52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#32 0x00005556f013fbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#33 0x00005556f013fdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#34 0x00005556f0140266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#35 0x00005556f01c127c (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x00005556f01c23cb (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x00005556f012ca7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#38 0x00005556f013f52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#39 0x00005556f013fbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#40 0x00005556f013fdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#41 0x00005556f0140838 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67838)
#42 0x00005556f01a21cc (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x00005556f012ca7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#44 0x00005556f013f52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#45 0x00005556f013e87d llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6587d)
#46 0x00005556f013ea20 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65a20)
#47 0x00005556f013ecf0 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65cf0)
#48 0x00005556f013f18f llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6618f)
#49 0x00005556f013f3f8 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c663f8)
#50 0x00005556f0294d44 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x00005556f02952d2 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x00005556f0295857 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x00005556f0297d41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x00005556f029a35d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#55 0x00005556f0d01846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#56 0x00005556ef584817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x00005556f022c4b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#58 0x00005556ef588c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x00005556f022c466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#60 0x00005556ef586ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x00005556f023267a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#62 0x00005556f0cfe406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#63 0x00005556f00bb2aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#64 0x00005556eec673f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x00005556eebc0113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007f3ad5e42083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x00005556eec58ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: firstprivate] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  firstprivate2.c -o firstprivate2  

DEBUG Mode ON
env LIBRARY_PATH=/opt/rocm-5.6.0-3024/llvm//lib-debug /opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -isystem/home/estewart/rocm/aomp/include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa  -march=gfx90a -o flags
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/flags-63b5a1-gfx90a-linked-b2c4a9.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/flags-63b5a1-gfx90a-optimized-da8f2c.bc
 #0 0x00005638eadfdfef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x00005638eadfb9b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f3ef0016420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f3eefab300b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f3eefa92859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f3eefa92729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f3eefa92729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f3eefaa3fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x00005638e9c2cc11 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7c11)
 #9 0x00005638e9c1d625 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x00005638e9c1e1ed llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a91ed)
#11 0x00005638ea61a8b2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x00005638ea61b42e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x00005638ea626702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x00005638ea649639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#15 0x00005638ea65d16b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x00005638ea65d5fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x00005638ea65e304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x00005638ea5c8a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#19 0x00005638ea5db52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#20 0x00005638ea5dbbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#21 0x00005638ea5dbdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#22 0x00005638ea5dc266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#23 0x00005638ea65e533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x00005638ea5c8a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#25 0x00005638ea5db52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#26 0x00005638ea5dbbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#27 0x00005638ea5dbdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#28 0x00005638ea5dc266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#29 0x00005638ea65e533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x00005638ea5c8a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#31 0x00005638ea5db52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#32 0x00005638ea5dbbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#33 0x00005638ea5dbdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#34 0x00005638ea5dc266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#35 0x00005638ea65e533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x00005638ea5c8a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#37 0x00005638ea5db52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#38 0x00005638ea5dbbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#39 0x00005638ea5dbdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#40 0x00005638ea5dc266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#41 0x00005638ea65d27c (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x00005638ea65e3cb (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x00005638ea5c8a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#44 0x00005638ea5db52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#45 0x00005638ea5dbbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#46 0x00005638ea5dbdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#47 0x00005638ea5dc838 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67838)
#48 0x00005638ea63e1cc (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x00005638ea5c8a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#50 0x00005638ea5db52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#51 0x00005638ea5da87d llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6587d)
#52 0x00005638ea5daa20 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65a20)
#53 0x00005638ea5dacf0 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65cf0)
#54 0x00005638ea5db18f llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6618f)
#55 0x00005638ea5db3f8 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c663f8)
#56 0x00005638ea730d44 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x00005638ea7312d2 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x00005638ea731857 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x00005638ea733d41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x00005638ea73635d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#61 0x00005638eb19d846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#62 0x00005638e9a20817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x00005638ea6c84b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#64 0x00005638e9a24c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x00005638ea6c8466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#66 0x00005638e9a22ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x00005638ea6ce67a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#68 0x00005638eb19a406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#69 0x00005638ea5572aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#70 0x00005638e91033f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x00005638e905c113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007f3eefa94083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x00005638e90f4ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make[1]: *** [Makefile:23: compile] Error 1
rm: cannot remove 'flags': No such file or directory

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -isystem/home/estewart/rocm/aomp/include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa  -march=gfx90a -o flags
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/flags-7a4f9c-gfx90a-linked-dfb65e.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/flags-7a4f9c-gfx90a-optimized-9f5f88.bc
 #0 0x000055994f215fef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x000055994f2139b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fa62d673420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fa62d11000b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fa62d0ef859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fa62d0ef729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fa62d0ef729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fa62d100fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055994e044c11 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7c11)
 #9 0x000055994e035625 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x000055994e0361ed llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a91ed)
#11 0x000055994ea328b2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000055994ea3342e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x000055994ea3e702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x000055994ea61639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#15 0x000055994ea7516b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x000055994ea755fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x000055994ea76304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x000055994e9e0a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#19 0x000055994e9f352b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#20 0x000055994e9f3bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#21 0x000055994e9f3dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#22 0x000055994e9f4266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#23 0x000055994ea76533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x000055994e9e0a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#25 0x000055994e9f352b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#26 0x000055994e9f3bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#27 0x000055994e9f3dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#28 0x000055994e9f4266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#29 0x000055994ea76533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x000055994e9e0a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#31 0x000055994e9f352b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#32 0x000055994e9f3bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#33 0x000055994e9f3dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#34 0x000055994e9f4266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#35 0x000055994ea76533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x000055994e9e0a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#37 0x000055994e9f352b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#38 0x000055994e9f3bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#39 0x000055994e9f3dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#40 0x000055994e9f4266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#41 0x000055994ea7527c (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x000055994ea763cb (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x000055994e9e0a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#44 0x000055994e9f352b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#45 0x000055994e9f3bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#46 0x000055994e9f3dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#47 0x000055994e9f4838 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67838)
#48 0x000055994ea561cc (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x000055994e9e0a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#50 0x000055994e9f352b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#51 0x000055994e9f287d llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6587d)
#52 0x000055994e9f2a20 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65a20)
#53 0x000055994e9f2cf0 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65cf0)
#54 0x000055994e9f318f llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6618f)
#55 0x000055994e9f33f8 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c663f8)
#56 0x000055994eb48d44 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x000055994eb492d2 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x000055994eb49857 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x000055994eb4bd41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x000055994eb4e35d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#61 0x000055994f5b5846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#62 0x000055994de38817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x000055994eae04b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#64 0x000055994de3cc20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x000055994eae0466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#66 0x000055994de3aca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x000055994eae667a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#68 0x000055994f5b2406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#69 0x000055994e96f2aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#70 0x000055994d51b3f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x000055994d474113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007fa62d0f1083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x000055994d50cebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make[1]: *** [Makefile:23: compile] Error 1
rm: cannot remove 'flags': No such file or directory

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa  -march=gfx90a -o flags

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa  -march=gfx90a -o flags

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -fopenmp -save-temps -target x86_64-pc-linux-gnu -fopenmp-targets=x86_64-pc-linux-gnu -o flags

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -fopenmp -save-temps -target x86_64-pc-linux-gnu -o flags

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -fopenmp -save-temps  -fopenmp-targets=x86_64-pc-linux-gnu -o flags

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -fopenmp -save-temps -o flags


/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  function.c -o function  
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/function-ddec8c-gfx90a-linked-4fa8fb.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/function-ddec8c-gfx90a-optimized-974591.bc
 #0 0x0000560f2206efef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x0000560f2206c9b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f337f4e0420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f337ef7d00b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f337ef5c859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f337ef5c729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f337ef5c729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f337ef6dfd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x0000560f20e9dc11 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7c11)
 #9 0x0000560f20e8e625 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x0000560f20e8f1ed llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a91ed)
#11 0x0000560f2188b8b2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x0000560f2188c42e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x0000560f21897702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x0000560f218ba639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#15 0x0000560f218ce16b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x0000560f218ce5fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x0000560f218cf304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x0000560f21839a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#19 0x0000560f2184c52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#20 0x0000560f2184cbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#21 0x0000560f2184cdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#22 0x0000560f2184d266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#23 0x0000560f218cf533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x0000560f21839a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#25 0x0000560f2184c52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#26 0x0000560f2184cbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#27 0x0000560f2184cdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#28 0x0000560f2184d266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#29 0x0000560f218cf533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x0000560f21839a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#31 0x0000560f2184c52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#32 0x0000560f2184cbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#33 0x0000560f2184cdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#34 0x0000560f2184d266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#35 0x0000560f218ce27c (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x0000560f218cf3cb (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x0000560f21839a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#38 0x0000560f2184c52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#39 0x0000560f2184cbcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#40 0x0000560f2184cdde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#41 0x0000560f2184d838 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67838)
#42 0x0000560f218af1cc (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x0000560f21839a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#44 0x0000560f2184c52b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#45 0x0000560f2184b87d llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6587d)
#46 0x0000560f2184ba20 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65a20)
#47 0x0000560f2184bcf0 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65cf0)
#48 0x0000560f2184c18f llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6618f)
#49 0x0000560f2184c3f8 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c663f8)
#50 0x0000560f219a1d44 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x0000560f219a22d2 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x0000560f219a2857 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x0000560f219a4d41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x0000560f219a735d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#55 0x0000560f2240e846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#56 0x0000560f20c91817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x0000560f219394b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#58 0x0000560f20c95c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x0000560f21939466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#60 0x0000560f20c93ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x0000560f2193f67a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#62 0x0000560f2240b406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#63 0x0000560f217c82aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#64 0x0000560f203743f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x0000560f202cd113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007f337ef5e083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x0000560f20365ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: function] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  function_overload.cpp -o function_overload  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  function_template.cpp -o function_template  

Makefile:18: warning: overriding recipe for target 'run'
../Makefile.rules:30: warning: ignoring old recipe for target 'run'
/opt/rocm-5.6.0-3024/llvm//bin/clang  -g  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  gdb_teams.c -o gdb_teams  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  helloworld.c -o helloworld  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -x hip --offload-arch=gfx90a -std=c++11   hip_device_compile.cpp -o hip_device_compile  
ld.lld: error: undefined symbol: __hipPopCallConfiguration
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba026c.o:(__device_stub__kernel())

ld.lld: error: undefined symbol: hipLaunchKernel
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba026c.o:(__device_stub__kernel())

ld.lld: error: undefined symbol: __hipPushCallConfiguration
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba026c.o:(main)

ld.lld: error: undefined symbol: hipDeviceSynchronize
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba026c.o:(main)

ld.lld: error: undefined symbol: __hipRegisterFunction
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba026c.o:(__hip_register_globals)

ld.lld: error: undefined symbol: __hipRegisterFatBinary
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba026c.o:(__hip_module_ctor)

ld.lld: error: undefined symbol: __hipUnregisterFatBinary
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba026c.o:(__hip_module_dtor)
clang-16: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [../Makefile.rules:26: hip_device_compile] Error 1

[0;31mhip_rocblas - needs rocblas installed at /opt/rocm/rocblas:[0m
[0;31mhip_rocblas - ROCBLAS NOT FOUND!!! SKIPPING TEST![0m
./check_smoke.sh: line 68: continue: only meaningful in a `for', `while', or `until' loop
Makefile:2: "This test requires rocblas to be installed in /opt/rocm/rocblas. Rocblas works on AMD only."
/opt/rocm-5.6.0-3024/llvm//bin/clang++  -x hip -I /opt/rocm/rocblas/include/ --offload-arch=gfx90a -std=c++11  --offload-arch=gfx90a hip_rocblas.cpp -o hip_rocblas -L /opt/rocm/rocblas/lib -lrocblas -Wl,-rpath,/opt/rocm/rocblas/lib
hip_rocblas.cpp:5:10: fatal error: 'rocblas.h' file not found
#include "rocblas.h"
         ^~~~~~~~~~~
1 error generated when compiling for gfx90a.
make: *** [../Makefile.rules:26: hip_rocblas] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  issue_001.c -o issue_001  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2 -g -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  issue_002.c -o issue_002  

/opt/rocm-5.6.0-3024/llvm//bin/flang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp -O3 -w  issue_flang_libomp.f90 -o issue_flang_libomp  
	libomp.so => /opt/rocm-5.6.0-3024/llvm/bin/../lib/libomp.so (0x00007fb2fe982000)

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  launch_latency.c -o launch_latency  

AOMP_GPU=gfx90a make -C MyDeviceLib libMyDeviceLib.a
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled/MyDeviceLib'
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2 func_1v.c -o build/func_1v.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2 func_2v.c -o build/func_2v.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2  func_3v.c -o build/func_3v.o
ar r libMyDeviceLib.a build/func_1v.o build/func_2v.o build/func_3v.o
ar: creating libMyDeviceLib.a
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled/MyDeviceLib'

AOMP_GPU=gfx90a make -C MyDeviceLib libMyDeviceLib.a; \
make -C MyHostLib libMyHostLib.a; \
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa \
-Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2 hfunc0.c -o hfunc0.o
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyDeviceLib'
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2 func_1v.c -o build/func_1v.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2 func_2v.c -o build/func_2v.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2  func_3v.c -o build/func_3v.o
ar r libMyDeviceLib.a build/func_1v.o build/func_2v.o build/func_3v.o
ar: creating libMyDeviceLib.a
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyDeviceLib'
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyHostLib'
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -O2 hfunc1.c -o build/hfunc1.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -O2 hfunc2.c -o build/hfunc2.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -O2  hfunc3.c -o build/hfunc3.o
ar r libMyHostLib.a build/hfunc1.o build/hfunc2.o build/hfunc3.o
ar: creating libMyHostLib.a
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyHostLib'

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O3 -flto=thin  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  lto_teams.c -o lto_teams  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  map_zero_bug.c -o map_zero_bug  
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/map_zero_bug-b1ac2a-gfx90a-linked-e8c2d4.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/map_zero_bug-b1ac2a-gfx90a-optimized-62b1b9.bc
 #0 0x00005642a8c5afef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x00005642a8c589b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007ff250c96420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007ff25073300b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007ff250712859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007ff250712729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007ff250712729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007ff250723fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x00005642a7a89c11 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7c11)
 #9 0x00005642a7a7a625 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x00005642a7a7b1ed llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a91ed)
#11 0x00005642a84778b2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x00005642a847842e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x00005642a8483702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x00005642a84a6639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#15 0x00005642a84ba16b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x00005642a84ba5fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x00005642a84bb304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x00005642a8425a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#19 0x00005642a843852b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#20 0x00005642a8438bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#21 0x00005642a8438dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#22 0x00005642a8439266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#23 0x00005642a84bb533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x00005642a8425a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#25 0x00005642a843852b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#26 0x00005642a8438bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#27 0x00005642a8438dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#28 0x00005642a8439266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#29 0x00005642a84bb533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x00005642a8425a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#31 0x00005642a843852b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#32 0x00005642a8438bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#33 0x00005642a8438dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#34 0x00005642a8439266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#35 0x00005642a84ba27c (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x00005642a84bb3cb (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x00005642a8425a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#38 0x00005642a843852b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#39 0x00005642a8438bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#40 0x00005642a8438dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#41 0x00005642a8439838 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67838)
#42 0x00005642a849b1cc (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x00005642a8425a7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#44 0x00005642a843852b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#45 0x00005642a843787d llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6587d)
#46 0x00005642a8437a20 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65a20)
#47 0x00005642a8437cf0 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65cf0)
#48 0x00005642a843818f llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6618f)
#49 0x00005642a84383f8 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c663f8)
#50 0x00005642a858dd44 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x00005642a858e2d2 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x00005642a858e857 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x00005642a8590d41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x00005642a859335d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#55 0x00005642a8ffa846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#56 0x00005642a787d817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x00005642a85254b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#58 0x00005642a7881c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x00005642a8525466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#60 0x00005642a787fca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x00005642a852b67a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#62 0x00005642a8ff7406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#63 0x00005642a83b42aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#64 0x00005642a6f603f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x00005642a6eb9113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007ff250714083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x00005642a6f51ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: map_zero_bug] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  math_flog.c -o math_flog  -lm
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/math_flog-63794e-gfx90a-linked-8f608f.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/math_flog-63794e-gfx90a-optimized-dac755.bc
 #0 0x00005606aee53fef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x00005606aee519b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f41ce07b420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f41cdb1800b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f41cdaf7859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f41cdaf7729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f41cdaf7729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f41cdb08fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x00005606adc82c11 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7c11)
 #9 0x00005606adc73625 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x00005606adc741ed llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a91ed)
#11 0x00005606ae6708b2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x00005606ae67142e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x00005606ae67c702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x00005606ae69f639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#15 0x00005606ae6b316b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x00005606ae6b35fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x00005606ae6b4304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x00005606ae61ea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#19 0x00005606ae63152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#20 0x00005606ae631bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#21 0x00005606ae631dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#22 0x00005606ae632266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#23 0x00005606ae6b4533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x00005606ae61ea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#25 0x00005606ae63152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#26 0x00005606ae631bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#27 0x00005606ae631dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#28 0x00005606ae632266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#29 0x00005606ae6b4533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x00005606ae61ea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#31 0x00005606ae63152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#32 0x00005606ae631bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#33 0x00005606ae631dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#34 0x00005606ae632266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#35 0x00005606ae6b4533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x00005606ae61ea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#37 0x00005606ae63152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#38 0x00005606ae631bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#39 0x00005606ae631dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#40 0x00005606ae632266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#41 0x00005606ae6b327c (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x00005606ae6b43cb (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x00005606ae61ea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#44 0x00005606ae63152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#45 0x00005606ae631bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#46 0x00005606ae631dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#47 0x00005606ae632838 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67838)
#48 0x00005606ae6941cc (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x00005606ae61ea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#50 0x00005606ae63152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#51 0x00005606ae63087d llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6587d)
#52 0x00005606ae630a20 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65a20)
#53 0x00005606ae630cf0 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65cf0)
#54 0x00005606ae63118f llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6618f)
#55 0x00005606ae6313f8 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c663f8)
#56 0x00005606ae786d44 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x00005606ae7872d2 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x00005606ae787857 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x00005606ae789d41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x00005606ae78c35d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#61 0x00005606af1f3846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#62 0x00005606ada76817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x00005606ae71e4b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#64 0x00005606ada7ac20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x00005606ae71e466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#66 0x00005606ada78ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x00005606ae72467a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#68 0x00005606af1f0406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#69 0x00005606ae5ad2aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#70 0x00005606ad1593f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x00005606ad0b2113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007f41cdaf9083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x00005606ad14aebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: math_flog] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  math_modff.cpp -o math_modff  -lm

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  math_sqrt_float.c -o math_sqrt_float  -lm
opt: /long_pathname_so_that_rpms_can_package_the_debug_info/src/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/math_sqrt_float-adf8e3-gfx90a-linked-9e003e.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/math_sqrt_float-adf8e3-gfx90a-optimized-b2c507.bc
 #0 0x000055d513f13fef llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488fef)
 #1 0x000055d513f119b4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f0f74707420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f0f741a400b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f0f74183859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f0f74183729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f0f74183729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f0f74194fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055d512d42c11 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7c11)
 #9 0x000055d512d33625 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x000055d512d341ed llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a91ed)
#11 0x000055d5137308b2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000055d51373142e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x000055d51373c702 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x000055d51375f639 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4639)
#15 0x000055d51377316b (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x000055d5137735fc (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x000055d513774304 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x000055d5136dea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#19 0x000055d5136f152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#20 0x000055d5136f1bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#21 0x000055d5136f1dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#22 0x000055d5136f2266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#23 0x000055d513774533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x000055d5136dea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#25 0x000055d5136f152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#26 0x000055d5136f1bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#27 0x000055d5136f1dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#28 0x000055d5136f2266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#29 0x000055d513774533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x000055d5136dea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#31 0x000055d5136f152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#32 0x000055d5136f1bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#33 0x000055d5136f1dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#34 0x000055d5136f2266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#35 0x000055d513774533 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x000055d5136dea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#37 0x000055d5136f152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#38 0x000055d5136f1bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#39 0x000055d5136f1dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#40 0x000055d5136f2266 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67266)
#41 0x000055d51377327c (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x000055d5137743cb (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x000055d5136dea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#44 0x000055d5136f152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#45 0x000055d5136f1bcd llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66bcd)
#46 0x000055d5136f1dde llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66dde)
#47 0x000055d5136f2838 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67838)
#48 0x000055d5137541cc (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x000055d5136dea7a llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c53a7a)
#50 0x000055d5136f152b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6652b)
#51 0x000055d5136f087d llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6587d)
#52 0x000055d5136f0a20 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65a20)
#53 0x000055d5136f0cf0 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65cf0)
#54 0x000055d5136f118f llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6618f)
#55 0x000055d5136f13f8 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c663f8)
#56 0x000055d513846d44 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x000055d5138472d2 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x000055d513847857 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x000055d513849d41 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x000055d51384c35d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc135d)
#61 0x000055d5142b3846 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828846)
#62 0x000055d512b36817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x000055d5137de4b6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d534b6)
#64 0x000055d512b3ac20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x000055d5137de466 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d53466)
#66 0x000055d512b38ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x000055d5137e467a llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d5967a)
#68 0x000055d5142b0406 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825406)
#69 0x000055d51366d2aa llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be22aa)
#70 0x000055d5122193f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x000055d512172113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007f0f74185083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x000055d51220aebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 (ssh://gerritgit/lightning/ec/llvm-project promotion/amd-mainline-open/2023.02.01 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: math_sqrt_float] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  nativetests.c -o nativetests  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  nest_call_par2.c -o nest_call_par2  
