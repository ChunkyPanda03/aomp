/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke /home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke

TEST_DIR: aomp_mappings	TEST_NAME: aomp_mappings	MAKE: make -C aomp_mappings clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/aomp_mappings'
rm -f aomp_mappings aomp_mappings.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/aomp_mappings'

TEST_DIR: DeclareSharedMemory	TEST_NAME: DeclareSharedMemory	MAKE: make -C DeclareSharedMemory clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/DeclareSharedMemory'
rm -f DeclareSharedMemory DeclareSharedMemory.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/DeclareSharedMemory'

TEST_DIR: assertok_error	TEST_NAME: assertok_error	MAKE: make -C assertok_error clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/assertok_error'
rm -f assertok_error assertok_error.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/assertok_error'

TEST_DIR: atomic	TEST_NAME: atomic	MAKE: make -C atomic clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/atomic'
rm -f atomic atomic.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/atomic'

TEST_DIR: atomic_double	TEST_NAME: atomic_double	MAKE: make -C atomic_double clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/atomic_double'
rm -f atomic_double atomic_double.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/atomic_double'

TEST_DIR: class	TEST_NAME: class	MAKE: make -C class clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/class'
rm -f class class.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/class'

TEST_DIR: collapse	TEST_NAME: collapse	MAKE: make -C collapse clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/collapse'
rm -f collapse collapse.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/collapse'

TEST_DIR: data_enter_issue01	TEST_NAME: data_enter_issue01	MAKE: make -C data_enter_issue01 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/data_enter_issue01'
rm -f data_enter_issue01 data_enter_issue01.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/data_enter_issue01'

TEST_DIR: data_issue_59	TEST_NAME: data_issue_59	MAKE: make -C data_issue_59 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/data_issue_59'
rm -f data_issue_59 data_issue_59.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/data_issue_59'

TEST_DIR: decl_targ	TEST_NAME: decl_targ	MAKE: make -C decl_targ clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/decl_targ'
rm -f decl_targ decl_targ.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/decl_targ'

TEST_DIR: devices	TEST_NAME: devices	MAKE: make -C devices clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/devices'
rm -f devices devices.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/devices'

TEST_DIR: dotprod_prob	TEST_NAME: dotprod_prob	MAKE: make -C dotprod_prob clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/dotprod_prob'
rm -f dotprod_prob dotprod_prob.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/dotprod_prob'

TEST_DIR: extern_init	TEST_NAME: extern_init	MAKE: make -C extern_init clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/extern_init'
rm -f extern_init extern_init.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/extern_init'

TEST_DIR: firstprivate	TEST_NAME: firstprivate	MAKE: make -C firstprivate clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/firstprivate'
rm -f firstprivate firstprivate.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/firstprivate'

TEST_DIR: firstprivate2	TEST_NAME: firstprivate2	MAKE: make -C firstprivate2 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/firstprivate2'
rm -f firstprivate2 firstprivate2.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/firstprivate2'

TEST_DIR: flags	TEST_NAME: flags	MAKE: make -C flags clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/flags'
rm -f flags flags.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/flags'

TEST_DIR: function	TEST_NAME: function	MAKE: make -C function clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function'
rm -f function function.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function'

TEST_DIR: function_overload	TEST_NAME: function_overload	MAKE: make -C function_overload clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function_overload'
rm -f function_overload function_overload.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function_overload'

TEST_DIR: function_template	TEST_NAME: function_template	MAKE: make -C function_template clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function_template'
rm -f function_template function_template.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/function_template'

TEST_DIR: gdb_teams	TEST_NAME: gdb_teams	MAKE: make -C gdb_teams clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/gdb_teams'
Makefile:18: warning: overriding recipe for target 'run'
../Makefile.rules:30: warning: ignoring old recipe for target 'run'
rm -f gdb_teams gdb_teams.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/gdb_teams'

TEST_DIR: helloworld	TEST_NAME: helloworld	MAKE: make -C helloworld clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/helloworld'
rm -f helloworld helloworld.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/helloworld'

TEST_DIR: hip_device_compile	TEST_NAME: hip_device_compile	MAKE: make -C hip_device_compile clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/hip_device_compile'
rm -f hip_device_compile hip_device_compile.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/hip_device_compile'

TEST_DIR: hip_rocblas	TEST_NAME: hip_rocblas	MAKE: make -C hip_rocblas clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/hip_rocblas'
Makefile:2: "This test requires rocblas to be installed in /opt/rocm/rocblas. Rocblas works on AMD only."
rm -f hip_rocblas hip_rocblas.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/hip_rocblas'

TEST_DIR: issue_flang_libomp	TEST_NAME: issue_flang_libomp	MAKE: make -C issue_flang_libomp clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_flang_libomp'
rm -f issue_flang_libomp issue_flang_libomp.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_flang_libomp'

TEST_DIR: issue_001	TEST_NAME: issue_001	MAKE: make -C issue_001 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_001'
rm -f issue_001 issue_001.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_001'

TEST_DIR: issue_002	TEST_NAME: issue_002	MAKE: make -C issue_002 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_002'
rm -f issue_002 issue_002.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/issue_002'

TEST_DIR: launch_latency	TEST_NAME: launch_latency	MAKE: make -C launch_latency clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/launch_latency'
rm -f launch_latency launch_latency.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/launch_latency'

TEST_DIR: liba_bundled	TEST_NAME: liba_bundled	MAKE: make -C liba_bundled clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled'
make -C MyDeviceLib clean
make[2]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled/MyDeviceLib'
rm -f ./build/*.bc ./build/*.ll ./build/*.o *.a
rmdir ./build
make[2]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled/MyDeviceLib'
rm -f liba_bundled liba_bundled.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled'

TEST_DIR: liba_bundled_cmdline	TEST_NAME: liba_bundled	MAKE: make -C liba_bundled_cmdline clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline'
make -C MyDeviceLib clean; make -C MyHostLib clean; rm -f hfunc0.o
make[2]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyDeviceLib'
rm -f ./build/*.bc ./build/*.ll ./build/*.o *.a
rmdir ./build
make[2]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyDeviceLib'
make[2]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyHostLib'
rm -f ./build/*.bc ./build/*.ll ./build/*.o *.a
rmdir ./build
make[2]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyHostLib'
rm -f liba_bundled liba_bundled.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline'

TEST_DIR: lto_teams	TEST_NAME: lto_teams	MAKE: make -C lto_teams clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/lto_teams'
rm -f lto_teams lto_teams.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/lto_teams'

TEST_DIR: map_zero_bug	TEST_NAME: map_zero_bug	MAKE: make -C map_zero_bug clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/map_zero_bug'
rm -f map_zero_bug map_zero_bug.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/map_zero_bug'

TEST_DIR: math_flog	TEST_NAME: math_flog	MAKE: make -C math_flog clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_flog'
rm -f math_flog math_flog.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_flog'

TEST_DIR: math_modff	TEST_NAME: math_modff	MAKE: make -C math_modff clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_modff'
rm -f math_modff math_modff.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_modff'

TEST_DIR: math_sqrt_float	TEST_NAME: math_sqrt_float	MAKE: make -C math_sqrt_float clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_sqrt_float'
rm -f math_sqrt_float math_sqrt_float.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/math_sqrt_float'

TEST_DIR: MaxNumThrds	TEST_NAME: maxnum	MAKE: make -C MaxNumThrds clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/MaxNumThrds'
rm -f maxnum maxnum.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/MaxNumThrds'

TEST_DIR: nativetests	TEST_NAME: nativetests	MAKE: make -C nativetests clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nativetests'
rm -f nativetests nativetests.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nativetests'

TEST_DIR: nested_loop	TEST_NAME: nested_loop	MAKE: make -C nested_loop clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nested_loop'
rm -f nested_loop nested_loop.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nested_loop'

TEST_DIR: nested_par3	TEST_NAME: nested_par3	MAKE: make -C nested_par3 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nested_par3'
rm -f nested_par3 nested_par3.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nested_par3'

TEST_DIR: nest_call_par2	TEST_NAME: nest_call_par2	MAKE: make -C nest_call_par2 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nest_call_par2'
rm -f nest_call_par2 nest_call_par2.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/nest_call_par2'

TEST_DIR: omp_num_teams_SPMD	TEST_NAME: omp_num_teams_SPMD	MAKE: make -C omp_num_teams_SPMD clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/omp_num_teams_SPMD'
rm -f omp_num_teams_SPMD omp_num_teams_SPMD.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/omp_num_teams_SPMD'

TEST_DIR: omp_num_teams_generic	TEST_NAME: omp_num_teams_generic	MAKE: make -C omp_num_teams_generic clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/omp_num_teams_generic'
rm -f omp_num_teams_generic omp_num_teams_generic.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/omp_num_teams_generic'

TEST_DIR: OmpHipMallocManaged	TEST_NAME: OmpHipMallocManaged	MAKE: make -C OmpHipMallocManaged clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/OmpHipMallocManaged'
rm -f OmpHipMallocManaged OmpHipMallocManaged.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/OmpHipMallocManaged'

TEST_DIR: pfspecifier	TEST_NAME: pfspecifier	MAKE: make -C pfspecifier clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/pfspecifier'
rm -f pfspecifier pfspecifier.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/pfspecifier'

TEST_DIR: pfspecifier_str	TEST_NAME: pfspecifier_str	MAKE: make -C pfspecifier_str clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/pfspecifier_str'
rm -f pfspecifier_str pfspecifier_str.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/pfspecifier_str'

TEST_DIR: red_bug_51	TEST_NAME: red_bug_51	MAKE: make -C red_bug_51 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/red_bug_51'
rm -f red_bug_51 red_bug_51.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/red_bug_51'

TEST_DIR: reduce	TEST_NAME: reduce	MAKE: make -C reduce clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduce'
rm -f reduce reduce.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduce'

TEST_DIR: reduction	TEST_NAME: reduction	MAKE: make -C reduction clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction'
rm -f reduction reduction.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction'

TEST_DIR: reduction_array_section	TEST_NAME: reduction_array_section	MAKE: make -C reduction_array_section clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_array_section'
rm -f reduction_array_section reduction_array_section.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_array_section'

TEST_DIR: reduction_issue_16	TEST_NAME: reduction_issue_16	MAKE: make -C reduction_issue_16 clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_issue_16'
rm -f reduction_issue_16 reduction_issue_16.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_issue_16'

TEST_DIR: reduction_team	TEST_NAME: reduction_team	MAKE: make -C reduction_team clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_team'
rm -f reduction_team reduction_team.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_team'

TEST_DIR: reduction_teams	TEST_NAME: reduction_teams	MAKE: make -C reduction_teams clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_teams'
rm -f reduction_teams reduction_teams.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_teams'

TEST_DIR: reduction_teams_distribute_parallel	TEST_NAME: reduction_teams_distribute_parallel	MAKE: make -C reduction_teams_distribute_parallel clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_teams_distribute_parallel'
rm -f reduction_teams_distribute_parallel reduction_teams_distribute_parallel.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduction_teams_distribute_parallel'

TEST_DIR: reduc_map_prob	TEST_NAME: reduc_map_prob	MAKE: make -C reduc_map_prob clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduc_map_prob'
rm -f reduc_map_prob reduc_map_prob.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/reduc_map_prob'

TEST_DIR: schedule	TEST_NAME: schedule	MAKE: make -C schedule clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/schedule'
rm -f schedule schedule.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/schedule'

TEST_DIR: simd	TEST_NAME: simd	MAKE: make -C simd clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/simd'
rm -f simd simd.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/simd'

TEST_DIR: snap_red	TEST_NAME: snap_red	MAKE: make -C snap_red clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/snap_red'
rm -f snap_red snap_red.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/snap_red'

TEST_DIR: stream	TEST_NAME: stream	MAKE: make -C stream clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/stream'
rm -f stream stream.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/stream'

TEST_DIR: targ_declare	TEST_NAME: targ_declare	MAKE: make -C targ_declare clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/targ_declare'
rm -f targ_declare targ_declare.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/targ_declare'

TEST_DIR: targ_static	TEST_NAME: targ_static	MAKE: make -C targ_static clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/targ_static'
rm -f targ_static targ_static.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/targ_static'

TEST_DIR: target-in-other-source	TEST_NAME: target-in-other-source	MAKE: make -C target-in-other-source clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/target-in-other-source'
rm -f target-in-other-source target-in-other-source.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/target-in-other-source'

TEST_DIR: target_teams_reduction	TEST_NAME: target_teams_reduction	MAKE: make -C target_teams_reduction clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/target_teams_reduction'
rm -f target_teams_reduction target_teams_reduction.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/target_teams_reduction'

TEST_DIR: tasks	TEST_NAME: tasks	MAKE: make -C tasks clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/tasks'
rm -f tasks tasks.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/tasks'

TEST_DIR: teams	TEST_NAME: teams	MAKE: make -C teams clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams'
rm -f teams teams.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams'

TEST_DIR: teams_nest	TEST_NAME: teams_nest	MAKE: make -C teams_nest clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams_nest'
rm -f teams_nest teams_nest.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams_nest'

TEST_DIR: teams512-info	TEST_NAME: teams512-info	MAKE: make -C teams512-info clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams512-info'
rm -f teams512-info obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.cubin
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/teams512-info'

TEST_DIR: test	TEST_NAME: test	MAKE: make -C test clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/test'
rm -f test test.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/test'

TEST_DIR: thread_limit	TEST_NAME: thread_limit	MAKE: make -C thread_limit clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/thread_limit'
rm -f thread_limit thread_limit.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/thread_limit'

TEST_DIR: threads	TEST_NAME: threads	MAKE: make -C threads clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/threads'
rm -f threads threads.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/threads'

TEST_DIR: Threads1xxx	TEST_NAME: Threads1xxx	MAKE: make -C Threads1xxx clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/Threads1xxx'
rm -f Threads1xxx Threads1xxx.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/Threads1xxx'

TEST_DIR: unique-kernel-name	TEST_NAME: unique-kernel-name	MAKE: make -C unique-kernel-name clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/unique-kernel-name'
rm -f unique-kernel-name unique-kernel-name.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/unique-kernel-name'

TEST_DIR: use_device_ptr	TEST_NAME: use_device_ptr	MAKE: make -C use_device_ptr clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/use_device_ptr'
rm -f use_device_ptr use_device_ptr.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/use_device_ptr'

TEST_DIR: veccopy	TEST_NAME: veccopy	MAKE: make -C veccopy clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/veccopy'
rm -f veccopy veccopy.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/veccopy'

TEST_DIR: vmuldemo	TEST_NAME: vmul	MAKE: make -C vmuldemo clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/vmuldemo'
rm -f vmul vmul.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/vmuldemo'

TEST_DIR: vmulsum	TEST_NAME: vmulsum	MAKE: make -C vmulsum clean
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/vmulsum'
rm -f vmulsum vmulsum.a llbin sbin obin *.i *.ii *.bc *.lk a.out-* *.ll *.s *.o *.log
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/vmulsum'

[0;33mRUNNING ALL TESTS IN: /home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke[0m

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  DeclareSharedMemory.cpp -o DeclareSharedMemory  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  manyKernels.c -o manyKernels  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/manyKernels-2aee14-gfx90a-linked-b9c50f.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/manyKernels-2aee14-gfx90a-optimized-6ce56e.bc
 #0 0x0000564bbf36af2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x0000564bbf3688f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fb2862d9420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fb285d7600b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fb285d55859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fb285d55729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fb285d55729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fb285d66fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x0000564bbe199bb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x0000564bbe18a5c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x0000564bbe18b18d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x0000564bbeb877f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x0000564bbeb8836e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x0000564bbeb93642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x0000564bbebb6579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x0000564bbebca0ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x0000564bbebca53c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x0000564bbebcb244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x0000564bbeb359ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x0000564bbeb4846b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x0000564bbeb48b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x0000564bbeb48d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x0000564bbeb491a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x0000564bbebcb473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x0000564bbeb359ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x0000564bbeb4846b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x0000564bbeb48b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x0000564bbeb48d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x0000564bbeb491a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x0000564bbebcb473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x0000564bbeb359ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x0000564bbeb4846b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x0000564bbeb48b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x0000564bbeb48d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x0000564bbeb491a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x0000564bbebca1bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x0000564bbebcb30b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x0000564bbeb359ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#38 0x0000564bbeb4846b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#39 0x0000564bbeb48b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#40 0x0000564bbeb48d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#41 0x0000564bbeb49778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#42 0x0000564bbebab10c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x0000564bbeb359ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x0000564bbeb4846b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x0000564bbeb477bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#46 0x0000564bbeb47960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#47 0x0000564bbeb47c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#48 0x0000564bbeb480cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#49 0x0000564bbeb48338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#50 0x0000564bbec9dc84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x0000564bbec9e212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x0000564bbec9e797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x0000564bbeca0c81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x0000564bbeca329d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#55 0x0000564bbf70a896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#56 0x0000564bbdf8d817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x0000564bbec353f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#58 0x0000564bbdf91c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x0000564bbec353a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#60 0x0000564bbdf8fca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x0000564bbec3b5ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#62 0x0000564bbf707456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#63 0x0000564bbeac41ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#64 0x0000564bbd6703f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x0000564bbd5c9113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007fb285d57083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x0000564bbd661ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: manyKernels] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  MasterBarrier.cpp -o MasterBarrier  

/opt/rocm-5.6.0-3024/llvm//bin/clang -isystem/opt/rocm-5.6.0-3024/llvm//include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  maxnum.c -o maxnum  

/opt/rocm-5.6.0-3024/llvm//bin/clang++ -lhip_hcc -DUSE_MALLOC=0 -DLARGE=0 -DITERS=1  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  OmpHipMallocManaged.cpp -o OmpHipMallocManaged  
OmpHipMallocManaged.cpp:59:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipInit(0);
    ^~~~~~~ ~
OmpHipMallocManaged.cpp:131:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(A);
    ^~~~~~~~~~~ ~
OmpHipMallocManaged.cpp:132:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(B);
    ^~~~~~~~~~~ ~
OmpHipMallocManaged.cpp:133:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(C);
    ^~~~~~~~~~~ ~
4 warnings generated.
OmpHipMallocManaged.cpp:59:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipInit(0);
    ^~~~~~~ ~
OmpHipMallocManaged.cpp:131:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(A);
    ^~~~~~~~~~~ ~
OmpHipMallocManaged.cpp:132:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(B);
    ^~~~~~~~~~~ ~
OmpHipMallocManaged.cpp:133:5: warning: ignoring return value of function declared with 'nodiscard' attribute [-Wunused-result]
    hipHostFree(C);
    ^~~~~~~~~~~ ~
4 warnings generated.
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/LazyValueInfo.cpp:1637: llvm::ConstantRange llvm::LazyValueInfo::getConstantRange(llvm::Value*, llvm::Instruction*, bool): Assertion `V->getType()->isIntegerTy()' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/OmpHipMallocManaged-0d5db6-gfx90a-linked-c8b545.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/OmpHipMallocManaged-0d5db6-gfx90a-optimized-4f80bd.bc
 #0 0x000055d63b989f2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x000055d63b9878f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fc797612420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fc7970af00b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fc79708e859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fc79708e729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fc79708e729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fc79709ffd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055d63a6acbef llvm::LazyValueInfo::getConstantRange(llvm::Value*, llvm::Instruction*, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x11abbef)
 #9 0x000055d63b5ad671 processBinOp(llvm::BinaryOperator*, llvm::LazyValueInfo*) (.part.0) CorrelatedValuePropagation.cpp:0:0
#10 0x000055d63b5b4e52 runImpl(llvm::Function&, llvm::LazyValueInfo*, llvm::DominatorTree*, llvm::SimplifyQuery const&) CorrelatedValuePropagation.cpp:0:0
#11 0x000055d63b5b6d68 llvm::CorrelatedValuePropagationPass::run(llvm::Function&, llvm::AnalysisManager<llvm::Function>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x20b5d68)
#12 0x000055d63bd29256 llvm::detail::PassModel<llvm::Function, llvm::CorrelatedValuePropagationPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Function>>::run(llvm::Function&, llvm::AnalysisManager<llvm::Function>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828256)
#13 0x000055d639d43554 llvm::detail::PassModel<llvm::Function, llvm::PassManager<llvm::Function, llvm::AnalysisManager<llvm::Function>>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Function>>::run(llvm::Function&, llvm::AnalysisManager<llvm::Function>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x842554)
#14 0x000055d63a5b4db6 llvm::CGSCCToFunctionPassAdaptor::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10b3db6)
#15 0x000055d639d28116 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::CGSCCToFunctionPassAdaptor, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x827116)
#16 0x000055d63a5ac817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#17 0x000055d63b2543f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#18 0x000055d63a5b0c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#19 0x000055d63b2543a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#20 0x000055d63a5aeca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#21 0x000055d63b25a5ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#22 0x000055d63bd26456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#23 0x000055d63b0e31ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#24 0x000055d639c8f3f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#25 0x000055d639be8113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#26 0x00007fc797090083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#27 0x000055d639c80ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: OmpHipMallocManaged] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang -isystem/opt/rocm-5.6.0-3024/llvm//include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  Threads1xxx.c -o Threads1xxx  

/opt/rocm-5.6.0-3024/llvm//bin/clang -isystem/opt/rocm-5.6.0-3024/llvm//include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  aomp_mappings.c -o aomp_mappings  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  assertok_error.c -o assertok_error  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/assertok_error-75f4b8-gfx90a-linked-f067c0.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/assertok_error-75f4b8-gfx90a-optimized-8cbb1d.bc
 #0 0x00005593b6964f2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x00005593b69628f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fd3a5fdf420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fd3a5a7c00b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fd3a5a5b859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fd3a5a5b729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fd3a5a5b729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fd3a5a6cfd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x00005593b5793bb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x00005593b57845c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x00005593b578518d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x00005593b61817f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x00005593b618236e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x00005593b618d642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x00005593b61b0579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x00005593b61c40ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x00005593b61c453c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x00005593b61c5244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x00005593b612f9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x00005593b614246b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x00005593b6142b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x00005593b6142d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x00005593b61431a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x00005593b61c5473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x00005593b612f9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x00005593b614246b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x00005593b6142b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x00005593b6142d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x00005593b61431a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x00005593b61c5473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x00005593b612f9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x00005593b614246b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x00005593b6142b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x00005593b6142d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x00005593b61431a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x00005593b61c41bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x00005593b61c530b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x00005593b612f9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#38 0x00005593b614246b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#39 0x00005593b6142b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#40 0x00005593b6142d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#41 0x00005593b6143778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#42 0x00005593b61a510c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x00005593b612f9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x00005593b614246b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x00005593b61417bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#46 0x00005593b6141960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#47 0x00005593b6141c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#48 0x00005593b61420cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#49 0x00005593b6142338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#50 0x00005593b6297c84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x00005593b6298212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x00005593b6298797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x00005593b629ac81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x00005593b629d29d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#55 0x00005593b6d04896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#56 0x00005593b5587817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x00005593b622f3f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#58 0x00005593b558bc20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x00005593b622f3a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#60 0x00005593b5589ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x00005593b62355ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#62 0x00005593b6d01456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#63 0x00005593b60be1ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#64 0x00005593b4c6a3f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x00005593b4bc3113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007fd3a5a5d083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x00005593b4c5bebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: assertok_error] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  atomic.c -o atomic  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  atomic_double.c -o atomic_double  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  class.cpp -o class  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  collapse.c -o collapse  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/include/llvm/Support/Casting.h:579: decltype(auto) llvm::cast(From*) [with To = llvm::IntegerType; From = const llvm::Type]: Assertion `isa<To>(Val) && "cast<Ty>() argument of incompatible type!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/collapse-e91dd0-gfx90a-linked-d992f4.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/collapse-e91dd0-gfx90a-optimized-665933.bc
 #0 0x00005565c72fff2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x00005565c72fd8f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f694fb0a420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f694f5a700b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f694f586859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f694f586729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f694f586729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f694f597fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x00005565c6012e0f (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x119be0f)
 #9 0x00005565c601ae61 getValueFromCondition(llvm::Value*, llvm::Value*, bool) LazyValueInfo.cpp:0:0
#10 0x00005565c601c638 getEdgeValueLocal(llvm::Value*, llvm::BasicBlock*, llvm::BasicBlock*) LazyValueInfo.cpp:0:0
#11 0x00005565c6020097 (anonymous namespace)::LazyValueInfoImpl::getEdgeValue(llvm::Value*, llvm::BasicBlock*, llvm::BasicBlock*, llvm::Instruction*) LazyValueInfo.cpp:0:0
#12 0x00005565c6020815 (anonymous namespace)::LazyValueInfoImpl::solve() LazyValueInfo.cpp:0:0
#13 0x00005565c6022671 (anonymous namespace)::LazyValueInfoImpl::getValueInBlock(llvm::Value*, llvm::BasicBlock*, llvm::Instruction*) LazyValueInfo.cpp:0:0
#14 0x00005565c6022a8d llvm::LazyValueInfo::getConstantRange(llvm::Value*, llvm::Instruction*, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x11aba8d)
#15 0x00005565c6b1d487 (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#16 0x00005565c6b28642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#17 0x00005565c6b4b579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#18 0x00005565c6b5f0ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#19 0x00005565c6b5f53c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#20 0x00005565c6b60244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#21 0x00005565c6aca9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#22 0x00005565c6add46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#23 0x00005565c6ae4192 llvm::Attributor::runTillFixpoint() (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6d192)
#24 0x00005565c6af6fa6 llvm::Attributor::run() (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c7ffa6)
#25 0x00005565c6c335e9 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#26 0x00005565c6c35c81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#27 0x00005565c6c3829d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#28 0x00005565c769f896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#29 0x00005565c5f22817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#30 0x00005565c6bca3f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#31 0x00005565c5f26c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#32 0x00005565c6bca3a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#33 0x00005565c5f24ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#34 0x00005565c6bd05ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#35 0x00005565c769c456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#36 0x00005565c6a591ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#37 0x00005565c56053f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#38 0x00005565c555e113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#39 0x00007f694f588083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#40 0x00005565c55f6ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: collapse] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/aompcc -v complex.cpp
Warning: aompcc is now deprecated.
#   
#Info:  AOMP Path:	/opt/rocm-5.6.0-3024/llvm//bin
#Info:  How called:	aompcc
#Info:  Run date:	Mon Mar  6 16:57:43 UTC 2023
#Info:  Input files:	complex.cpp
#Info:  Code object:	/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/complex/a.out
#   
/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O3 -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a   -o  "/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/complex/a.out" "complex.cpp"

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O0  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  data_enter_issue01.cpp -o data_enter_issue01  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  data_issue_59.cpp -o data_issue_59  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/data_issue_59-74c619-gfx90a-linked-7df941.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/data_issue_59-74c619-gfx90a-optimized-e19ba8.bc
 #0 0x0000560e61985f2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x0000560e619838f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007ff4ad4b4420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007ff4acf5100b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007ff4acf30859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007ff4acf30729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007ff4acf30729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007ff4acf41fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x0000560e607b4bb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x0000560e607a55c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x0000560e607a618d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x0000560e611a27f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x0000560e611a336e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x0000560e611ae642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x0000560e611d1579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x0000560e611e50ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x0000560e611e553c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x0000560e611e6244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x0000560e611509ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x0000560e6116346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x0000560e61163b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x0000560e61163d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x0000560e611641a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x0000560e611e6473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x0000560e611509ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x0000560e6116346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x0000560e61163b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x0000560e61163d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x0000560e611641a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x0000560e611e6473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x0000560e611509ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x0000560e6116346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x0000560e61163b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x0000560e61163d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x0000560e611641a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x0000560e611e51bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x0000560e611e630b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x0000560e611509ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#38 0x0000560e6116346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#39 0x0000560e61163b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#40 0x0000560e61163d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#41 0x0000560e61164778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#42 0x0000560e611c610c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x0000560e611509ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x0000560e6116346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x0000560e611627bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#46 0x0000560e61162960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#47 0x0000560e61162c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#48 0x0000560e611630cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#49 0x0000560e61163338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#50 0x0000560e612b8c84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x0000560e612b9212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x0000560e612b9797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x0000560e612bbc81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x0000560e612be29d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#55 0x0000560e61d25896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#56 0x0000560e605a8817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x0000560e612503f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#58 0x0000560e605acc20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x0000560e612503a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#60 0x0000560e605aaca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x0000560e612565ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#62 0x0000560e61d22456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#63 0x0000560e610df1ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#64 0x0000560e5fc8b3f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x0000560e5fbe4113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007ff4acf32083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x0000560e5fc7cebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: data_issue_59] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/flang  -O3 -w -i8 -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  decl_targ.f95 -o decl_targ  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  devices.c -o devices  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  dotprod_prob.c -o dotprod_prob  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/dotprod_prob-13fdc8-gfx90a-linked-a3d1cd.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/dotprod_prob-13fdc8-gfx90a-optimized-1bccc0.bc
 #0 0x000055dae7ccbf2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x000055dae7cc98f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fd5b0b1e420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fd5b05bb00b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fd5b059a859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fd5b059a729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fd5b059a729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fd5b05abfd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055dae6afabb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x000055dae6aeb5c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x000055dae6aec18d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x000055dae74e87f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000055dae74e936e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x000055dae74f4642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x000055dae7517579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x000055dae752b0ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x000055dae752b53c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x000055dae752c244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x000055dae74969ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x000055dae74a946b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x000055dae74a9b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x000055dae74a9d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x000055dae74aa1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x000055dae752c473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x000055dae74969ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x000055dae74a946b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x000055dae74a9b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x000055dae74a9d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x000055dae74aa1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x000055dae752c473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x000055dae74969ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x000055dae74a946b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x000055dae74a9b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x000055dae74a9d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x000055dae74aa1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x000055dae752c473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x000055dae74969ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#37 0x000055dae74a946b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#38 0x000055dae74a9b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#39 0x000055dae74a9d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#40 0x000055dae74aa1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#41 0x000055dae752b1bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x000055dae752c30b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x000055dae74969ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x000055dae74a946b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x000055dae74a9b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#46 0x000055dae74a9d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#47 0x000055dae74aa778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#48 0x000055dae750c10c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x000055dae74969ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#50 0x000055dae74a946b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#51 0x000055dae74a87bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#52 0x000055dae74a8960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#53 0x000055dae74a8c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#54 0x000055dae74a90cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#55 0x000055dae74a9338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#56 0x000055dae75fec84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x000055dae75ff212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x000055dae75ff797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x000055dae7601c81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x000055dae760429d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#61 0x000055dae806b896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#62 0x000055dae68ee817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x000055dae75963f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#64 0x000055dae68f2c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x000055dae75963a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#66 0x000055dae68f0ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x000055dae759c5ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#68 0x000055dae8068456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#69 0x000055dae74251ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#70 0x000055dae5fd13f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x000055dae5f2a113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007fd5b059c083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x000055dae5fc2ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: dotprod_prob] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  extern_init.c -o extern_init  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  firstprivate.c -o firstprivate  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/firstprivate-9e74a4-gfx90a-linked-af270b.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/firstprivate-9e74a4-gfx90a-optimized-1c393f.bc
 #0 0x000055bc124e5f2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x000055bc124e38f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f0594486420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f0593f2300b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f0593f02859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f0593f02729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f0593f02729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f0593f13fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055bc11314bb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x000055bc113055c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x000055bc1130618d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x000055bc11d027f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000055bc11d0336e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x000055bc11d0e642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x000055bc11d31579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x000055bc11d450ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x000055bc11d4553c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x000055bc11d46244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x000055bc11cb09ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x000055bc11cc346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x000055bc11cc3b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x000055bc11cc3d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x000055bc11cc41a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x000055bc11d46473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x000055bc11cb09ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x000055bc11cc346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x000055bc11cc3b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x000055bc11cc3d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x000055bc11cc41a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x000055bc11d46473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x000055bc11cb09ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x000055bc11cc346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x000055bc11cc3b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x000055bc11cc3d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x000055bc11cc41a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x000055bc11d451bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x000055bc11d4630b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x000055bc11cb09ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#38 0x000055bc11cc346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#39 0x000055bc11cc3b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#40 0x000055bc11cc3d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#41 0x000055bc11cc4778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#42 0x000055bc11d2610c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x000055bc11cb09ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x000055bc11cc346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x000055bc11cc27bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#46 0x000055bc11cc2960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#47 0x000055bc11cc2c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#48 0x000055bc11cc30cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#49 0x000055bc11cc3338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#50 0x000055bc11e18c84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x000055bc11e19212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x000055bc11e19797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x000055bc11e1bc81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x000055bc11e1e29d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#55 0x000055bc12885896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#56 0x000055bc11108817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x000055bc11db03f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#58 0x000055bc1110cc20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x000055bc11db03a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#60 0x000055bc1110aca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x000055bc11db65ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#62 0x000055bc12882456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#63 0x000055bc11c3f1ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#64 0x000055bc107eb3f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x000055bc10744113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007f0593f04083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x000055bc107dcebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: firstprivate] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  firstprivate2.c -o firstprivate2  

DEBUG Mode ON
env LIBRARY_PATH=/opt/rocm-5.6.0-3024/llvm//lib-debug /opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -isystem/home/estewart/rocm/aomp/include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa  -march=gfx90a -o flags
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/flags-05ed92-gfx90a-linked-36b6d8.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/flags-05ed92-gfx90a-optimized-0b0a9b.bc
 #0 0x000055f51e2eaf2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x000055f51e2e88f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fa1ba1fd420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fa1b9c9a00b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fa1b9c79859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fa1b9c79729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fa1b9c79729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fa1b9c8afd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055f51d119bb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x000055f51d10a5c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x000055f51d10b18d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x000055f51db077f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000055f51db0836e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x000055f51db13642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x000055f51db36579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x000055f51db4a0ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x000055f51db4a53c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x000055f51db4b244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x000055f51dab59ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x000055f51dac846b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x000055f51dac8b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x000055f51dac8d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x000055f51dac91a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x000055f51db4b473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x000055f51dab59ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x000055f51dac846b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x000055f51dac8b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x000055f51dac8d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x000055f51dac91a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x000055f51db4b473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x000055f51dab59ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x000055f51dac846b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x000055f51dac8b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x000055f51dac8d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x000055f51dac91a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x000055f51db4b473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x000055f51dab59ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#37 0x000055f51dac846b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#38 0x000055f51dac8b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#39 0x000055f51dac8d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#40 0x000055f51dac91a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#41 0x000055f51db4a1bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x000055f51db4b30b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x000055f51dab59ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x000055f51dac846b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x000055f51dac8b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#46 0x000055f51dac8d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#47 0x000055f51dac9778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#48 0x000055f51db2b10c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x000055f51dab59ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#50 0x000055f51dac846b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#51 0x000055f51dac77bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#52 0x000055f51dac7960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#53 0x000055f51dac7c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#54 0x000055f51dac80cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#55 0x000055f51dac8338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#56 0x000055f51dc1dc84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x000055f51dc1e212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x000055f51dc1e797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x000055f51dc20c81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x000055f51dc2329d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#61 0x000055f51e68a896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#62 0x000055f51cf0d817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x000055f51dbb53f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#64 0x000055f51cf11c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x000055f51dbb53a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#66 0x000055f51cf0fca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x000055f51dbbb5ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#68 0x000055f51e687456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#69 0x000055f51da441ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#70 0x000055f51c5f03f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x000055f51c549113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007fa1b9c7b083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x000055f51c5e1ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make[1]: *** [Makefile:23: compile] Error 1
rm: cannot remove 'flags': No such file or directory

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -isystem/home/estewart/rocm/aomp/include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa  -march=gfx90a -o flags
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/flags-d5e593-gfx90a-linked-8a7be3.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/flags-d5e593-gfx90a-optimized-1d9a0e.bc
 #0 0x0000565365855f2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x00005653658538f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f8341570420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f834100d00b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f8340fec859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f8340fec729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f8340fec729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f8340ffdfd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x0000565364684bb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x00005653646755c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x000056536467618d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x00005653650727f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000056536507336e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x000056536507e642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x00005653650a1579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x00005653650b50ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x00005653650b553c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x00005653650b6244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x00005653650209ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x000056536503346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x0000565365033b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x0000565365033d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x00005653650341a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x00005653650b6473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x00005653650209ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x000056536503346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x0000565365033b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x0000565365033d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x00005653650341a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x00005653650b6473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x00005653650209ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x000056536503346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x0000565365033b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x0000565365033d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x00005653650341a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x00005653650b6473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x00005653650209ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#37 0x000056536503346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#38 0x0000565365033b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#39 0x0000565365033d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#40 0x00005653650341a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#41 0x00005653650b51bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x00005653650b630b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x00005653650209ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x000056536503346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x0000565365033b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#46 0x0000565365033d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#47 0x0000565365034778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#48 0x000056536509610c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x00005653650209ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#50 0x000056536503346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#51 0x00005653650327bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#52 0x0000565365032960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#53 0x0000565365032c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#54 0x00005653650330cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#55 0x0000565365033338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#56 0x0000565365188c84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x0000565365189212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x0000565365189797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x000056536518bc81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x000056536518e29d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#61 0x0000565365bf5896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#62 0x0000565364478817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x00005653651203f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#64 0x000056536447cc20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x00005653651203a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#66 0x000056536447aca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x00005653651265ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#68 0x0000565365bf2456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#69 0x0000565364faf1ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#70 0x0000565363b5b3f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x0000565363ab4113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007f8340fee083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x0000565363b4cebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make[1]: *** [Makefile:23: compile] Error 1
rm: cannot remove 'flags': No such file or directory

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa  -march=gfx90a -o flags

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa  -march=gfx90a -o flags

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -fopenmp -save-temps -target x86_64-pc-linux-gnu -fopenmp-targets=x86_64-pc-linux-gnu -o flags

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -fopenmp -save-temps -target x86_64-pc-linux-gnu -o flags

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -fopenmp -save-temps  -fopenmp-targets=x86_64-pc-linux-gnu -o flags

/opt/rocm-5.6.0-3024/llvm//bin/clang flags.c -fopenmp -save-temps -o flags


/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  function.c -o function  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/function-b068fa-gfx90a-linked-9ae987.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/function-b068fa-gfx90a-optimized-449f93.bc
 #0 0x000055d20e3b3f2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x000055d20e3b18f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f7c5bc59420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f7c5b6f600b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f7c5b6d5859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f7c5b6d5729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f7c5b6d5729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f7c5b6e6fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055d20d1e2bb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x000055d20d1d35c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x000055d20d1d418d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x000055d20dbd07f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000055d20dbd136e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x000055d20dbdc642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x000055d20dbff579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x000055d20dc130ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x000055d20dc1353c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x000055d20dc14244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x000055d20db7e9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x000055d20db9146b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x000055d20db91b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x000055d20db91d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x000055d20db921a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x000055d20dc14473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x000055d20db7e9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x000055d20db9146b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x000055d20db91b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x000055d20db91d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x000055d20db921a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x000055d20dc14473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x000055d20db7e9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x000055d20db9146b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x000055d20db91b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x000055d20db91d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x000055d20db921a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x000055d20dc131bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x000055d20dc1430b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x000055d20db7e9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#38 0x000055d20db9146b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#39 0x000055d20db91b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#40 0x000055d20db91d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#41 0x000055d20db92778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#42 0x000055d20dbf410c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x000055d20db7e9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x000055d20db9146b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x000055d20db907bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#46 0x000055d20db90960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#47 0x000055d20db90c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#48 0x000055d20db910cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#49 0x000055d20db91338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#50 0x000055d20dce6c84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x000055d20dce7212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x000055d20dce7797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x000055d20dce9c81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x000055d20dcec29d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#55 0x000055d20e753896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#56 0x000055d20cfd6817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x000055d20dc7e3f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#58 0x000055d20cfdac20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x000055d20dc7e3a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#60 0x000055d20cfd8ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x000055d20dc845ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#62 0x000055d20e750456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#63 0x000055d20db0d1ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#64 0x000055d20c6b93f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x000055d20c612113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007f7c5b6d7083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x000055d20c6aaebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: function] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  function_overload.cpp -o function_overload  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  function_template.cpp -o function_template  

Makefile:18: warning: overriding recipe for target 'run'
../Makefile.rules:30: warning: ignoring old recipe for target 'run'
/opt/rocm-5.6.0-3024/llvm//bin/clang  -g  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  gdb_teams.c -o gdb_teams  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  helloworld.c -o helloworld  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -x hip --offload-arch=gfx90a -std=c++11   hip_device_compile.cpp -o hip_device_compile  
ld.lld: error: undefined symbol: __hipPopCallConfiguration
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba8e53.o:(__device_stub__kernel())

ld.lld: error: undefined symbol: hipLaunchKernel
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba8e53.o:(__device_stub__kernel())

ld.lld: error: undefined symbol: __hipPushCallConfiguration
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba8e53.o:(main)

ld.lld: error: undefined symbol: hipDeviceSynchronize
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba8e53.o:(main)

ld.lld: error: undefined symbol: __hipRegisterFunction
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba8e53.o:(__hip_register_globals)

ld.lld: error: undefined symbol: __hipRegisterFatBinary
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba8e53.o:(__hip_module_ctor)

ld.lld: error: undefined symbol: __hipUnregisterFatBinary
>>> referenced by hip_device_compile.cpp
>>>               /tmp/hip_device_compile-ba8e53.o:(__hip_module_dtor)
clang-16: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [../Makefile.rules:26: hip_device_compile] Error 1

[0;31mhip_rocblas - needs rocblas installed at /opt/rocm/rocblas:[0m
[0;31mhip_rocblas - ROCBLAS NOT FOUND!!! SKIPPING TEST![0m
./check_smoke.sh: line 68: continue: only meaningful in a `for', `while', or `until' loop
Makefile:2: "This test requires rocblas to be installed in /opt/rocm/rocblas. Rocblas works on AMD only."
/opt/rocm-5.6.0-3024/llvm//bin/clang++  -x hip -I /opt/rocm/rocblas/include/ --offload-arch=gfx90a -std=c++11  --offload-arch=gfx90a hip_rocblas.cpp -o hip_rocblas -L /opt/rocm/rocblas/lib -lrocblas -Wl,-rpath,/opt/rocm/rocblas/lib
hip_rocblas.cpp:5:10: fatal error: 'rocblas.h' file not found
#include "rocblas.h"
         ^~~~~~~~~~~
1 error generated when compiling for gfx90a.
make: *** [../Makefile.rules:26: hip_rocblas] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  issue_001.c -o issue_001  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2 -g -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  issue_002.c -o issue_002  

/opt/rocm-5.6.0-3024/llvm//bin/flang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp -O3 -w  issue_flang_libomp.f90 -o issue_flang_libomp  
	libomp.so => /opt/rocm-5.6.0-3024/llvm/bin/../lib/libomp.so (0x00007f2ef7656000)

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  launch_latency.c -o launch_latency  

AOMP_GPU=gfx90a make -C MyDeviceLib libMyDeviceLib.a
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled/MyDeviceLib'
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2 func_1v.c -o build/func_1v.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2 func_2v.c -o build/func_2v.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2  func_3v.c -o build/func_3v.o
ar r libMyDeviceLib.a build/func_1v.o build/func_2v.o build/func_3v.o
ar: creating libMyDeviceLib.a
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled/MyDeviceLib'

AOMP_GPU=gfx90a make -C MyDeviceLib libMyDeviceLib.a; \
make -C MyHostLib libMyHostLib.a; \
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa \
-Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2 hfunc0.c -o hfunc0.o
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyDeviceLib'
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2 func_1v.c -o build/func_1v.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2 func_2v.c -o build/func_2v.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a -O2  func_3v.c -o build/func_3v.o
ar r libMyDeviceLib.a build/func_1v.o build/func_2v.o build/func_3v.o
ar: creating libMyDeviceLib.a
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyDeviceLib'
make[1]: Entering directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyHostLib'
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -O2 hfunc1.c -o build/hfunc1.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -O2 hfunc2.c -o build/hfunc2.o
/opt/rocm-5.6.0-3024/llvm//bin/clang -c -target x86_64-pc-linux-gnu -O2  hfunc3.c -o build/hfunc3.o
ar r libMyHostLib.a build/hfunc1.o build/hfunc2.o build/hfunc3.o
ar: creating libMyHostLib.a
make[1]: Leaving directory '/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/liba_bundled_cmdline/MyHostLib'

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O3 -flto=thin  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  lto_teams.c -o lto_teams  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  map_zero_bug.c -o map_zero_bug  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/map_zero_bug-982d42-gfx90a-linked-e4c081.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/map_zero_bug-982d42-gfx90a-optimized-5b2873.bc
 #0 0x000055b3ef925f2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x000055b3ef9238f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007faec32ec420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007faec2d8900b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007faec2d68859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007faec2d68729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007faec2d68729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007faec2d79fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055b3ee754bb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x000055b3ee7455c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x000055b3ee74618d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x000055b3ef1427f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000055b3ef14336e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x000055b3ef14e642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x000055b3ef171579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x000055b3ef1850ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x000055b3ef18553c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x000055b3ef186244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x000055b3ef0f09ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x000055b3ef10346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x000055b3ef103b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x000055b3ef103d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x000055b3ef1041a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x000055b3ef186473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x000055b3ef0f09ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x000055b3ef10346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x000055b3ef103b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x000055b3ef103d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x000055b3ef1041a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x000055b3ef186473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x000055b3ef0f09ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x000055b3ef10346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x000055b3ef103b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x000055b3ef103d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x000055b3ef1041a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x000055b3ef1851bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x000055b3ef18630b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x000055b3ef0f09ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#38 0x000055b3ef10346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#39 0x000055b3ef103b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#40 0x000055b3ef103d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#41 0x000055b3ef104778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#42 0x000055b3ef16610c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x000055b3ef0f09ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x000055b3ef10346b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x000055b3ef1027bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#46 0x000055b3ef102960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#47 0x000055b3ef102c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#48 0x000055b3ef1030cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#49 0x000055b3ef103338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#50 0x000055b3ef258c84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x000055b3ef259212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x000055b3ef259797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x000055b3ef25bc81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x000055b3ef25e29d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#55 0x000055b3efcc5896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#56 0x000055b3ee548817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x000055b3ef1f03f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#58 0x000055b3ee54cc20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x000055b3ef1f03a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#60 0x000055b3ee54aca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x000055b3ef1f65ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#62 0x000055b3efcc2456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#63 0x000055b3ef07f1ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#64 0x000055b3edc2b3f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x000055b3edb84113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007faec2d6a083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x000055b3edc1cebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: map_zero_bug] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  math_flog.c -o math_flog  -lm
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/math_flog-0bfd99-gfx90a-linked-0d78f2.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/math_flog-0bfd99-gfx90a-optimized-78d95f.bc
 #0 0x000055870f42ff2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x000055870f42d8f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fa3ed260420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fa3eccfd00b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fa3eccdc859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fa3eccdc729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fa3eccdc729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fa3eccedfd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055870e25ebb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x000055870e24f5c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x000055870e25018d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x000055870ec4c7f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000055870ec4d36e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x000055870ec58642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x000055870ec7b579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x000055870ec8f0ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x000055870ec8f53c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x000055870ec90244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x000055870ebfa9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x000055870ec0d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x000055870ec0db0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x000055870ec0dd1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x000055870ec0e1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x000055870ec90473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x000055870ebfa9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x000055870ec0d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x000055870ec0db0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x000055870ec0dd1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x000055870ec0e1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x000055870ec90473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x000055870ebfa9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x000055870ec0d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x000055870ec0db0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x000055870ec0dd1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x000055870ec0e1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x000055870ec90473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x000055870ebfa9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#37 0x000055870ec0d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#38 0x000055870ec0db0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#39 0x000055870ec0dd1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#40 0x000055870ec0e1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#41 0x000055870ec8f1bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x000055870ec9030b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x000055870ebfa9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x000055870ec0d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x000055870ec0db0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#46 0x000055870ec0dd1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#47 0x000055870ec0e778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#48 0x000055870ec7010c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x000055870ebfa9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#50 0x000055870ec0d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#51 0x000055870ec0c7bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#52 0x000055870ec0c960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#53 0x000055870ec0cc30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#54 0x000055870ec0d0cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#55 0x000055870ec0d338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#56 0x000055870ed62c84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x000055870ed63212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x000055870ed63797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x000055870ed65c81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x000055870ed6829d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#61 0x000055870f7cf896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#62 0x000055870e052817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x000055870ecfa3f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#64 0x000055870e056c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x000055870ecfa3a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#66 0x000055870e054ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x000055870ed005ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#68 0x000055870f7cc456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#69 0x000055870eb891ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#70 0x000055870d7353f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x000055870d68e113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007fa3eccde083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x000055870d726ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: math_flog] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  math_modff.cpp -o math_modff  -lm

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  math_sqrt_float.c -o math_sqrt_float  -lm
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/math_sqrt_float-c62d2d-gfx90a-linked-8c4d75.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/math_sqrt_float-c62d2d-gfx90a-optimized-b6ddd8.bc
 #0 0x0000559fdf200f2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x0000559fdf1fe8f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fd424fab420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fd424a4800b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fd424a27859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fd424a27729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fd424a27729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fd424a38fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x0000559fde02fbb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x0000559fde0205c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x0000559fde02118d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x0000559fdea1d7f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x0000559fdea1e36e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x0000559fdea29642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x0000559fdea4c579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x0000559fdea600ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x0000559fdea6053c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x0000559fdea61244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x0000559fde9cb9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x0000559fde9de46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x0000559fde9deb0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x0000559fde9ded1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x0000559fde9df1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x0000559fdea61473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x0000559fde9cb9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x0000559fde9de46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x0000559fde9deb0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x0000559fde9ded1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x0000559fde9df1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x0000559fdea61473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x0000559fde9cb9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x0000559fde9de46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x0000559fde9deb0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x0000559fde9ded1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x0000559fde9df1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x0000559fdea61473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x0000559fde9cb9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#37 0x0000559fde9de46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#38 0x0000559fde9deb0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#39 0x0000559fde9ded1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#40 0x0000559fde9df1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#41 0x0000559fdea601bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x0000559fdea6130b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x0000559fde9cb9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x0000559fde9de46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x0000559fde9deb0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#46 0x0000559fde9ded1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#47 0x0000559fde9df778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#48 0x0000559fdea4110c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x0000559fde9cb9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#50 0x0000559fde9de46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#51 0x0000559fde9dd7bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#52 0x0000559fde9dd960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#53 0x0000559fde9ddc30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#54 0x0000559fde9de0cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#55 0x0000559fde9de338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#56 0x0000559fdeb33c84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x0000559fdeb34212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x0000559fdeb34797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x0000559fdeb36c81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x0000559fdeb3929d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#61 0x0000559fdf5a0896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#62 0x0000559fdde23817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x0000559fdeacb3f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#64 0x0000559fdde27c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x0000559fdeacb3a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#66 0x0000559fdde25ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x0000559fdead15ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#68 0x0000559fdf59d456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#69 0x0000559fde95a1ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#70 0x0000559fdd5063f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x0000559fdd45f113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007fd424a29083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x0000559fdd4f7ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: math_sqrt_float] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  nativetests.c -o nativetests  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  nest_call_par2.c -o nest_call_par2  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  nested_loop.c -o nested_loop  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  nested_par3.c -o nested_par3  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  omp_lock.c -o omp_lock  

/opt/rocm-5.6.0-3024/llvm//bin/clang -isystem/opt/rocm-5.6.0-3024/llvm//include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  omp_num_teams_SPMD.c -o omp_num_teams_SPMD  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/omp_num_teams_SPMD-0d9924-gfx90a-linked-49a089.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/omp_num_teams_SPMD-0d9924-gfx90a-optimized-d0144a.bc
 #0 0x0000561754e3cf2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x0000561754e3a8f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007f8590dd9420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007f859087600b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007f8590855859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007f8590855729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007f8590855729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007f8590866fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x0000561753c6bbb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x0000561753c5c5c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x0000561753c5d18d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x00005617546597f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000056175465a36e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x0000561754665642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x0000561754688579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x000056175469c0ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x000056175469c53c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x000056175469d244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x00005617546079ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x000056175461a46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x000056175461ab0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x000056175461ad1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x000056175461b1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x000056175469d473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x00005617546079ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x000056175461a46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x000056175461ab0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x000056175461ad1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x000056175461b1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x000056175469c1bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#30 0x000056175469d30b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#31 0x00005617546079ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#32 0x000056175461a46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#33 0x000056175461ab0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#34 0x000056175461ad1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#35 0x000056175461b778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#36 0x000056175467d10c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x00005617546079ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#38 0x000056175461a46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#39 0x00005617546197bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#40 0x0000561754619960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#41 0x0000561754619c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#42 0x000056175461a0cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#43 0x000056175461a338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#44 0x000056175476fc84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#45 0x0000561754770212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#46 0x0000561754770797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#47 0x0000561754772c81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#48 0x000056175477529d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#49 0x00005617551dc896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#50 0x0000561753a5f817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#51 0x00005617547073f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#52 0x0000561753a63c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#53 0x00005617547073a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#54 0x0000561753a61ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#55 0x000056175470d5ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#56 0x00005617551d9456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#57 0x00005617545961ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#58 0x00005617531423f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#59 0x000056175309b113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#60 0x00007f8590857083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#61 0x0000561753133ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: omp_num_teams_SPMD] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang -isystem/opt/rocm-5.6.0-3024/llvm//include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  omp_num_teams_generic.c -o omp_num_teams_generic  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  omp_wtime.c -o omp_wtime  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  pfspecifier.c -o pfspecifier  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  pfspecifier_str.c -o pfspecifier_str  

/opt/rocm-5.6.0-3024/llvm//bin/clang++   -O0  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  red_bug_51.cpp -o red_bug_51  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -fopenmp-version=50 -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  reduc_map_prob.c -o reduc_map_prob  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/reduc_map_prob-3b74b8-gfx90a-linked-e399a4.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/reduc_map_prob-3b74b8-gfx90a-optimized-9197b9.bc
 #0 0x000055f4e52bff2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x000055f4e52bd8f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fabd4e7c420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fabd491900b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fabd48f8859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fabd48f8729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fabd48f8729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fabd4909fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055f4e40eebb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x000055f4e40df5c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x000055f4e40e018d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x000055f4e4adc7f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x000055f4e4add36e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x000055f4e4ae8642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x000055f4e4b0b579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x000055f4e4b1f0ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x000055f4e4b1f53c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x000055f4e4b20244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x000055f4e4a8a9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x000055f4e4a9d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x000055f4e4a9db0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x000055f4e4a9dd1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x000055f4e4a9e1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x000055f4e4b20473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x000055f4e4a8a9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x000055f4e4a9d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x000055f4e4a9db0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x000055f4e4a9dd1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x000055f4e4a9e1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x000055f4e4b20473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x000055f4e4a8a9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x000055f4e4a9d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x000055f4e4a9db0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x000055f4e4a9dd1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x000055f4e4a9e1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x000055f4e4b20473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x000055f4e4a8a9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#37 0x000055f4e4a9d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#38 0x000055f4e4a9db0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#39 0x000055f4e4a9dd1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#40 0x000055f4e4a9e1a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#41 0x000055f4e4b1f1bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x000055f4e4b2030b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x000055f4e4a8a9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x000055f4e4a9d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x000055f4e4a9db0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#46 0x000055f4e4a9dd1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#47 0x000055f4e4a9e778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#48 0x000055f4e4b0010c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x000055f4e4a8a9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#50 0x000055f4e4a9d46b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#51 0x000055f4e4a9c7bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#52 0x000055f4e4a9c960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#53 0x000055f4e4a9cc30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#54 0x000055f4e4a9d0cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#55 0x000055f4e4a9d338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#56 0x000055f4e4bf2c84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x000055f4e4bf3212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x000055f4e4bf3797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x000055f4e4bf5c81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x000055f4e4bf829d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#61 0x000055f4e565f896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#62 0x000055f4e3ee2817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x000055f4e4b8a3f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#64 0x000055f4e3ee6c20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x000055f4e4b8a3a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#66 0x000055f4e3ee4ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x000055f4e4b905ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#68 0x000055f4e565c456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#69 0x000055f4e4a191ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#70 0x000055f4e35c53f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x000055f4e351e113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007fabd48fa083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x000055f4e35b6ebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: reduc_map_prob] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  reduce.c -o reduce  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  reduction.c -o reduction  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  reduction_array_section.cpp -o reduction_array_section  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  reduction_issue_16.c -o reduction_issue_16  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  reduction_team.c -o reduction_team  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  reduction_teams.c -o reduction_teams  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  reduction_teams_distribute_parallel.c -o reduction_teams_distribute_parallel  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/reduction_teams_distribute_parallel-416eab-gfx90a-linked-32abba.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/reduction_teams_distribute_parallel-416eab-gfx90a-optimized-9fe8d7.bc
 #0 0x00005579b5f48f2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x00005579b5f468f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fb0ab9b7420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fb0ab45400b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fb0ab433859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fb0ab433729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fb0ab433729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fb0ab444fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x00005579b4d77bb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x00005579b4d685c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x00005579b4d6918d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x00005579b57657f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x00005579b576636e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x00005579b5771642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x00005579b5794579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x00005579b57a80ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x00005579b57a853c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x00005579b57a9244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x00005579b57139ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x00005579b572646b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x00005579b5726b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x00005579b5726d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x00005579b57271a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x00005579b57a9473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x00005579b57139ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x00005579b572646b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x00005579b5726b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x00005579b5726d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x00005579b57271a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x00005579b57a9473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x00005579b57139ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x00005579b572646b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x00005579b5726b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x00005579b5726d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x00005579b57271a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x00005579b57a9473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#36 0x00005579b57139ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#37 0x00005579b572646b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#38 0x00005579b5726b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#39 0x00005579b5726d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#40 0x00005579b57271a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#41 0x00005579b57a81bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#42 0x00005579b57a930b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x00005579b57139ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x00005579b572646b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x00005579b5726b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#46 0x00005579b5726d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#47 0x00005579b5727778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#48 0x00005579b578910c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#49 0x00005579b57139ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#50 0x00005579b572646b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#51 0x00005579b57257bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#52 0x00005579b5725960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#53 0x00005579b5725c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#54 0x00005579b57260cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#55 0x00005579b5726338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#56 0x00005579b587bc84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#57 0x00005579b587c212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#58 0x00005579b587c797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#59 0x00005579b587ec81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#60 0x00005579b588129d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#61 0x00005579b62e8896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#62 0x00005579b4b6b817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#63 0x00005579b58133f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#64 0x00005579b4b6fc20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#65 0x00005579b58133a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#66 0x00005579b4b6dca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#67 0x00005579b58195ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#68 0x00005579b62e5456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#69 0x00005579b56a21ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#70 0x00005579b424e3f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#71 0x00005579b41a7113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#72 0x00007fb0ab435083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#73 0x00005579b423febe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: reduction_teams_distribute_parallel] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  schedule.c -o schedule  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  simd.c -o simd  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  snap_red.c -o snap_red  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2 -DOMP45 -std=c++11   -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  main.cpp OMP45Stream.cpp -o stream  

/opt/rocm-5.6.0-3024/llvm//bin/flang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp -O3 -w -i8 -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  targ_declare.f95 -o targ_declare  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  targ_static.c -o targ_static  
targ_static.c:22:1: error: the host cannot update a declare target variable that is not externally visible.
#pragma omp target update from(colstat)
^
1 error generated.
make: *** [../Makefile.rules:26: targ_static] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  vmul.c target.c -o target-in-other-source  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  target_teams_reduction.cpp -o target_teams_reduction  
clang-16: /home/dsalinas/work/Staging/external/llvm-project/clang/lib/CodeGen/CodeGenFunction.cpp:2180: clang::CodeGen::CodeGenFunction::VlaSizePair clang::CodeGen::CodeGenFunction::getVLASize(const clang::VariableArrayType*): Assertion `vlaSize && "no size for VLA!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace, preprocessed source, and associated run script.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm/bin/clang-16 -cc1 -triple amdgcn-amd-amdhsa -aux-triple x86_64-pc-linux-gnu -emit-llvm-bc -emit-llvm-uselists -disable-free -clear-ast-before-backend -main-file-name target_teams_reduction.cpp -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=none -ffp-contract=on -fno-rounding-math -mconstructor-aliases -target-cpu gfx90a -fcuda-is-device -fcuda-allow-variadic-functions -target-cpu gfx90a -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -resource-dir /opt/rocm-5.6.0-3024/llvm/lib/clang/16.0.0 -internal-isystem /opt/rocm-5.6.0-3024/llvm/lib/clang/16.0.0/include/openmp_wrappers -include __clang_openmp_device_functions.h -I /opt/rocm-5.6.0-3024/llvm/bin/../include -internal-isystem /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9 -internal-isystem /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/x86_64-linux-gnu/c++/9 -internal-isystem /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/backward -internal-isystem /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9 -internal-isystem /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/x86_64-linux-gnu/c++/9 -internal-isystem /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/backward -internal-isystem /opt/rocm-5.6.0-3024/llvm/bin/../include -internal-isystem /opt/rocm-5.6.0-3024/llvm/bin/../../include -internal-isystem /opt/rocm-5.6.0-3024/llvm/bin/../include -internal-isystem /opt/rocm-5.6.0-3024/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-linux-gnu/9/../../../../x86_64-linux-gnu/include -internal-externc-isystem /usr/include/x86_64-linux-gnu -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /opt/rocm-5.6.0-3024/llvm/lib/clang/16.0.0/include/cuda_wrappers -internal-isystem /opt/rocm-5.6.0-3024/llvm/bin/../include -internal-isystem /opt/rocm-5.6.0-3024/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-linux-gnu/9/../../../../x86_64-linux-gnu/include -internal-externc-isystem /usr/include/x86_64-linux-gnu -internal-externc-isystem /include -internal-externc-isystem /usr/include -O2 -fdeprecated-macro -fdebug-compilation-dir=/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke/target_teams_reduction -ferror-limit 19 -fvisibility=protected -fopenmp -fno-openmp-target-fast -fno-openmp-target-ignore-env-vars -fno-openmp-target-big-jump-loop -fopenmp-target-new-runtime -fno-openmp-assume-no-thread-state -fno-openmp-assume-no-nested-parallelism -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -fopenmp-is-device -fopenmp-host-ir-file-path /tmp/target_teams_reduction-3c9ae9.bc -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o /tmp/target_teams_reduction-226dee.bc -x c++ target_teams_reduction.cpp
1.	<eof> parser at end of file
2.	target_teams_reduction.cpp:4:5: LLVM IR generation of declaration 'main'
 #0 0x000055fa5241ca1f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x2abba1f)
 #1 0x000055fa5241a3e4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fd8b7df8420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fd8b789500b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007fd8b7874859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007fd8b7874729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007fd8b7874729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007fd8b7885fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x000055fa5293bd82 clang::CodeGen::CodeGenFunction::getVLASize(clang::VariableArrayType const*) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x2fdad82)
 #9 0x000055fa5293c598 clang::CodeGen::CodeGenFunction::emitArrayLength(clang::ArrayType const*, clang::QualType&, clang::CodeGen::Address&) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x2fdb598)
#10 0x000055fa52c7b05d clang::CodeGen::CodeGenFunction::EmitAggregateCopy(clang::CodeGen::LValue, clang::CodeGen::LValue, clang::QualType, clang::CodeGen::AggValueSlot::Overlap_t, bool) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x331a05d)
#11 0x000055fa52dc19fe emitReductionListCopy((anonymous namespace)::CopyAction, clang::CodeGen::CodeGenFunction&, clang::QualType, llvm::ArrayRef<clang::Expr const*>, clang::CodeGen::Address, clang::CodeGen::Address, CopyOptionsTy) (.isra.0.constprop.0) CGOpenMPRuntimeGPU.cpp:0:0
#12 0x000055fa52dc28da emitShuffleAndReduceFunction(clang::CodeGen::CodeGenModule&, llvm::ArrayRef<clang::Expr const*>, clang::QualType, llvm::Function*, clang::SourceLocation) CGOpenMPRuntimeGPU.cpp:0:0
#13 0x000055fa52dca54a clang::CodeGen::CGOpenMPRuntimeGPU::emitReduction(clang::CodeGen::CodeGenFunction&, clang::SourceLocation, llvm::ArrayRef<clang::Expr const*>, llvm::ArrayRef<clang::Expr const*>, llvm::ArrayRef<clang::Expr const*>, llvm::ArrayRef<clang::Expr const*>, clang::CodeGen::CGOpenMPRuntime::ReductionOptionsTy) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x346954a)
#14 0x000055fa528e02aa clang::CodeGen::CodeGenFunction::EmitOMPReductionClauseFinal(clang::OMPExecutableDirective const&, llvm::omp::Directive) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x2f7f2aa)
#15 0x000055fa5290c43f clang::CodeGen::CodeGenFunction::EmitOMPWorksharingLoop(clang::OMPLoopDirective const&, clang::Expr*, llvm::function_ref<std::pair<clang::CodeGen::LValue, clang::CodeGen::LValue> (clang::CodeGen::CodeGenFunction&, clang::OMPExecutableDirective const&)> const&, llvm::function_ref<std::pair<llvm::Value*, llvm::Value*> (clang::CodeGen::CodeGenFunction&, clang::OMPExecutableDirective const&, clang::CodeGen::Address, clang::CodeGen::Address)> const&) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x2fab43f)
#16 0x000055fa5290d2a8 void clang::CodeGen::RegionCodeGenTy::CallbackFn<emitInnerParallelForWhenCombined(clang::CodeGen::CodeGenFunction&, clang::OMPLoopDirective const&, clang::CodeGen::CodeGenFunction::JumpDest)::'lambda'(clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&)>(long, clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&) CGStmtOpenMP.cpp:0:0
#17 0x000055fa52d5637d clang::CodeGen::RegionCodeGenTy::operator()(clang::CodeGen::CodeGenFunction&) const (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x33f537d)
#18 0x000055fa52d566dc (anonymous namespace)::CGOpenMPRegionInfo::EmitBody(clang::CodeGen::CodeGenFunction&, clang::Stmt const*) CGOpenMPRuntime.cpp:0:0
#19 0x000055fa5291f403 clang::CodeGen::CodeGenFunction::GenerateOpenMPCapturedStmtFunction(clang::CapturedStmt const&, clang::OMPExecutableDirective const&, clang::SourceLocation) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x2fbe403)
#20 0x000055fa52d8c73d emitParallelOrTeamsOutlinedFunction(clang::CodeGen::CodeGenModule&, clang::OMPExecutableDirective const&, clang::CapturedStmt const*, clang::VarDecl const*, llvm::omp::Directive, llvm::StringRef, clang::CodeGen::RegionCodeGenTy const&) CGOpenMPRuntime.cpp:0:0
#21 0x000055fa52d8cbbf clang::CodeGen::CGOpenMPRuntime::emitParallelOutlinedFunction(clang::OMPExecutableDirective const&, clang::VarDecl const*, llvm::omp::Directive, clang::CodeGen::RegionCodeGenTy const&) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x342bbbf)
#22 0x000055fa52dc7a27 clang::CodeGen::CGOpenMPRuntimeGPU::emitParallelOutlinedFunction(clang::OMPExecutableDirective const&, clang::VarDecl const*, llvm::omp::Directive, clang::CodeGen::RegionCodeGenTy const&) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x3466a27)
#23 0x000055fa528ffdd0 emitCommonOMPParallelDirective(clang::CodeGen::CodeGenFunction&, clang::OMPExecutableDirective const&, llvm::omp::Directive, clang::CodeGen::RegionCodeGenTy const&, llvm::function_ref<void (clang::CodeGen::CodeGenFunction&, clang::OMPExecutableDirective const&, llvm::SmallVectorImpl<llvm::Value*>&)> const&) CGStmtOpenMP.cpp:0:0
#24 0x000055fa52900304 emitInnerParallelForWhenCombined(clang::CodeGen::CodeGenFunction&, clang::OMPLoopDirective const&, clang::CodeGen::CodeGenFunction::JumpDest) CGStmtOpenMP.cpp:0:0
#25 0x000055fa528d0e2a void llvm::function_ref<void (clang::CodeGen::CodeGenFunction&)>::callback_fn<clang::CodeGen::CodeGenFunction::EmitOMPDistributeLoop(clang::OMPLoopDirective const&, llvm::function_ref<void (clang::CodeGen::CodeGenFunction&, clang::OMPLoopDirective const&, clang::CodeGen::CodeGenFunction::JumpDest)> const&, clang::Expr*)::'lambda0'(clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&)::operator()(clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&) const::'lambda'(clang::CodeGen::CodeGenFunction&)>(long, clang::CodeGen::CodeGenFunction&) CGStmtOpenMP.cpp:0:0
#26 0x000055fa528d8caa clang::CodeGen::CodeGenFunction::EmitOMPInnerLoop(clang::OMPExecutableDirective const&, bool, clang::Expr const*, clang::Expr const*, llvm::function_ref<void (clang::CodeGen::CodeGenFunction&)>, llvm::function_ref<void (clang::CodeGen::CodeGenFunction&)>) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x2f77caa)
#27 0x000055fa528d8fe3 void clang::CodeGen::RegionCodeGenTy::CallbackFn<clang::CodeGen::CodeGenFunction::EmitOMPDistributeLoop(clang::OMPLoopDirective const&, llvm::function_ref<void (clang::CodeGen::CodeGenFunction&, clang::OMPLoopDirective const&, clang::CodeGen::CodeGenFunction::JumpDest)> const&, clang::Expr*)::'lambda0'(clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&)>(long, clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&) CGStmtOpenMP.cpp:0:0
#28 0x000055fa52d5637d clang::CodeGen::RegionCodeGenTy::operator()(clang::CodeGen::CodeGenFunction&) const (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x33f537d)
#29 0x000055fa528d2c23 void clang::CodeGen::RegionCodeGenTy::CallbackFn<emitCommonSimdLoop(clang::CodeGen::CodeGenFunction&, clang::OMPLoopDirective const&, clang::CodeGen::RegionCodeGenTy const&, clang::CodeGen::RegionCodeGenTy const&)::'lambda'(clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&)>(long, clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&) CGStmtOpenMP.cpp:0:0
#30 0x000055fa52d5637d clang::CodeGen::RegionCodeGenTy::operator()(clang::CodeGen::CodeGenFunction&) const (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x33f537d)
#31 0x000055fa528e14a2 emitCommonSimdLoop(clang::CodeGen::CodeGenFunction&, clang::OMPLoopDirective const&, clang::CodeGen::RegionCodeGenTy const&, clang::CodeGen::RegionCodeGenTy const&) (.constprop.0) CGStmtOpenMP.cpp:0:0
#32 0x000055fa5290e8dd clang::CodeGen::CodeGenFunction::EmitOMPDistributeLoop(clang::OMPLoopDirective const&, llvm::function_ref<void (clang::CodeGen::CodeGenFunction&, clang::OMPLoopDirective const&, clang::CodeGen::CodeGenFunction::JumpDest)> const&, clang::Expr*) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x2fad8dd)
#33 0x000055fa5290f1c0 void clang::CodeGen::RegionCodeGenTy::CallbackFn<emitTargetTeamsDistributeParallelForRegion(clang::CodeGen::CodeGenFunction&, clang::OMPTargetTeamsDistributeParallelForDirective const&, clang::CodeGen::PrePostActionTy&)::'lambda'(clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&)>(long, clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&) CGStmtOpenMP.cpp:0:0
#34 0x000055fa52d5637d clang::CodeGen::RegionCodeGenTy::operator()(clang::CodeGen::CodeGenFunction&) const (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x33f537d)
#35 0x000055fa52d566dc (anonymous namespace)::CGOpenMPRegionInfo::EmitBody(clang::CodeGen::CodeGenFunction&, clang::Stmt const*) CGOpenMPRuntime.cpp:0:0
#36 0x000055fa52d502f0 clang::CodeGen::CGOpenMPRuntime::emitInlinedDirective(clang::CodeGen::CodeGenFunction&, llvm::omp::Directive, clang::CodeGen::RegionCodeGenTy const&, bool) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x33ef2f0)
#37 0x000055fa528f22a8 void clang::CodeGen::RegionCodeGenTy::CallbackFn<emitTargetTeamsDistributeParallelForRegion(clang::CodeGen::CodeGenFunction&, clang::OMPTargetTeamsDistributeParallelForDirective const&, clang::CodeGen::PrePostActionTy&)::'lambda0'(clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&)>(long, clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&) CGStmtOpenMP.cpp:0:0
#38 0x000055fa52d5633e clang::CodeGen::RegionCodeGenTy::operator()(clang::CodeGen::CodeGenFunction&) const (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x33f533e)
#39 0x000055fa52d566dc (anonymous namespace)::CGOpenMPRegionInfo::EmitBody(clang::CodeGen::CodeGenFunction&, clang::Stmt const*) CGOpenMPRuntime.cpp:0:0
#40 0x000055fa5291f403 clang::CodeGen::CodeGenFunction::GenerateOpenMPCapturedStmtFunction(clang::CapturedStmt const&, clang::OMPExecutableDirective const&, clang::SourceLocation) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x2fbe403)
#41 0x000055fa52d8c73d emitParallelOrTeamsOutlinedFunction(clang::CodeGen::CodeGenModule&, clang::OMPExecutableDirective const&, clang::CapturedStmt const*, clang::VarDecl const*, llvm::omp::Directive, llvm::StringRef, clang::CodeGen::RegionCodeGenTy const&) CGOpenMPRuntime.cpp:0:0
#42 0x000055fa52d8d09b clang::CodeGen::CGOpenMPRuntime::emitTeamsOutlinedFunction(clang::OMPExecutableDirective const&, clang::VarDecl const*, llvm::omp::Directive, clang::CodeGen::RegionCodeGenTy const&) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x342c09b)
#43 0x000055fa52dc9802 clang::CodeGen::CGOpenMPRuntimeGPU::emitTeamsOutlinedFunction(clang::OMPExecutableDirective const&, clang::VarDecl const*, llvm::omp::Directive, clang::CodeGen::RegionCodeGenTy const&) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x3468802)
#44 0x000055fa52900b44 emitCommonOMPTeamsDirective(clang::CodeGen::CodeGenFunction&, clang::OMPExecutableDirective const&, llvm::omp::Directive, clang::CodeGen::RegionCodeGenTy const&) (.constprop.0) CGStmtOpenMP.cpp:0:0
#45 0x000055fa529018e9 void clang::CodeGen::RegionCodeGenTy::CallbackFn<clang::CodeGen::CodeGenFunction::EmitOMPTargetTeamsDistributeParallelForDeviceFunction(clang::CodeGen::CodeGenModule&, llvm::StringRef, clang::OMPTargetTeamsDistributeParallelForDirective const&)::'lambda'(clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&)>(long, clang::CodeGen::CodeGenFunction&, clang::CodeGen::PrePostActionTy&) CGStmtOpenMP.cpp:0:0
#46 0x000055fa52d5633e clang::CodeGen::RegionCodeGenTy::operator()(clang::CodeGen::CodeGenFunction&) const (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x33f533e)
#47 0x000055fa52d566dc (anonymous namespace)::CGOpenMPRegionInfo::EmitBody(clang::CodeGen::CodeGenFunction&, clang::Stmt const*) CGOpenMPRuntime.cpp:0:0
#48 0x000055fa5291f403 clang::CodeGen::CodeGenFunction::GenerateOpenMPCapturedStmtFunction(clang::CapturedStmt const&, clang::OMPExecutableDirective const&, clang::SourceLocation) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x2fbe403)
#49 0x000055fa52d8d92a std::_Function_handler<llvm::Function* (llvm::StringRef), clang::CodeGen::CGOpenMPRuntime::emitTargetOutlinedFunctionHelper(clang::OMPExecutableDirective const&, llvm::StringRef, llvm::Function*&, llvm::Constant*&, bool, clang::CodeGen::RegionCodeGenTy const&)::'lambda'(llvm::StringRef)>::_M_invoke(std::_Any_data const&, llvm::StringRef&&) CGOpenMPRuntime.cpp:0:0
#50 0x000055fa55b28c8d llvm::OpenMPIRBuilder::emitTargetRegionFunction(llvm::OffloadEntriesInfoManager&, llvm::TargetRegionEntryInfo&, std::function<llvm::Function* (llvm::StringRef)>&, int, int, bool, llvm::Function*&, llvm::Constant*&) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x61c7c8d)
#51 0x000055fa52d6463e clang::CodeGen::CGOpenMPRuntime::emitTargetOutlinedFunctionHelper(clang::OMPExecutableDirective const&, llvm::StringRef, llvm::Function*&, llvm::Constant*&, bool, clang::CodeGen::RegionCodeGenTy const&) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x340363e)
#52 0x000055fa52dbb96b clang::CodeGen::CGOpenMPRuntimeGPU::emitTargetOutlinedFunction(clang::OMPExecutableDirective const&, llvm::StringRef, llvm::Function*&, llvm::Constant*&, bool, clang::CodeGen::RegionCodeGenTy const&) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x345a96b)
#53 0x000055fa528dab99 clang::CodeGen::CodeGenFunction::EmitOMPTargetTeamsDistributeParallelForDeviceFunction(clang::CodeGen::CodeGenModule&, llvm::StringRef, clang::OMPTargetTeamsDistributeParallelForDirective const&) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x2f79b99)
#54 0x000055fa52d6d377 clang::CodeGen::CGOpenMPRuntime::scanForTargetRegionsFunctions(clang::Stmt const*, llvm::StringRef) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x340c377)
#55 0x000055fa52d6d456 clang::CodeGen::CGOpenMPRuntime::scanForTargetRegionsFunctions(clang::Stmt const*, llvm::StringRef) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x340c456)
#56 0x000055fa52d6d066 clang::CodeGen::CGOpenMPRuntime::scanForTargetRegionsFunctions(clang::Stmt const*, llvm::StringRef) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x340c066)
#57 0x000055fa52d6d701 clang::CodeGen::CGOpenMPRuntime::emitTargetFunctions(clang::GlobalDecl) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x340c701)
#58 0x000055fa529a8cbf clang::CodeGen::CodeGenModule::EmitGlobal(clang::GlobalDecl) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x3047cbf)
#59 0x000055fa529b33d2 clang::CodeGen::CodeGenModule::EmitTopLevelDecl(clang::Decl*) (.part.0) CodeGenModule.cpp:0:0
#60 0x000055fa537f2da9 (anonymous namespace)::CodeGeneratorImpl::HandleTopLevelDecl(clang::DeclGroupRef) ModuleBuilder.cpp:0:0
#61 0x000055fa537e4d80 clang::BackendConsumer::HandleTopLevelDecl(clang::DeclGroupRef) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x3e83d80)
#62 0x000055fa5476cab4 clang::ParseAST(clang::Sema&, bool, bool) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x4e0bab4)
#63 0x000055fa537efe68 clang::CodeGenAction::ExecuteAction() (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x3e8ee68)
#64 0x000055fa530491b9 clang::FrontendAction::Execute() (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x36e81b9)
#65 0x000055fa52fcf3ee clang::CompilerInstance::ExecuteAction(clang::FrontendAction&) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x366e3ee)
#66 0x000055fa531309b3 clang::ExecuteCompilerInvocation(clang::CompilerInstance*) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0x37cf9b3)
#67 0x000055fa5095538e cc1_main(llvm::ArrayRef<char const*>, char const*, void*) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0xff438e)
#68 0x000055fa50951257 ExecuteCC1Tool(llvm::SmallVectorImpl<char const*>&) driver.cpp:0:0
#69 0x000055fa509527ae clang_main(int, char**) (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0xff17ae)
#70 0x00007fd8b7876083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#71 0x000055fa5094be4e _start (/opt/rocm-5.6.0-3024/llvm/bin/clang-16+0xfeae4e)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: clang frontend command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: target_teams_reduction] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang   -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  targets_in_loop.c -o targets_in_loop  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  tasks.c -o tasks  
lld: error: undefined symbol: A
>>> referenced by /tmp/tasks-2601da-gfx90a-c12c3f.o:(_omp_task_entry$.internalized)
>>> referenced by /tmp/tasks-2601da-gfx90a-c12c3f.o:(_omp_task_entry$.internalized)
>>> referenced by /tmp/tasks-2601da-gfx90a-c12c3f.o:(_omp_task_entry$.3.internalized)
>>> referenced 1 more times
clang-16: error: amdgcn-link command failed with exit code 1 (use -v to see invocation)
make: *** [../Makefile.rules:26: tasks] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  teams.c -o teams  

/opt/rocm-5.6.0-3024/llvm//bin/clang -O3 -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  -DGPUINFO  teams512-info.c -o teams512-info -v 2>&1 | egrep '.vgpr_count|.max_flat_workgroup_size'
make: *** [Makefile:74: teams512-info] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  teams_nest.c -o teams_nest  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  test.cpp -o test  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  test_macros.c -o test_macros  
test_macros.c:4:10: fatal error: 'offload_macros.h' file not found
#include <offload_macros.h>
         ^~~~~~~~~~~~~~~~~~
1 error generated.
make: *** [../Makefile.rules:26: test_macros] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang -isystem/opt/rocm-5.6.0-3024/llvm//include  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  thread_limit.c -o thread_limit  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  threads.c -o threads  

/opt/rocm-5.6.0-3024/llvm//bin/clang++  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  b.cpp a.cpp -o unique-kernel-name  

/opt/rocm-5.6.0-3024/llvm//bin/flang  -O3  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  use_device_ptr.f95 -o use_device_ptr  
F90-W-0547-OpenMP feature, DEPEND, not yet implemented in this version of the compiler. (use_device_ptr.f95: 29)
  0 inform,   1 warnings,   0 severes, 0 fatal for main
warning: overriding the module target triple with x86_64-pc-linux-gnu [-Woverride-module]
1 warning generated.
F90-W-0547-OpenMP feature, DEPEND, not yet implemented in this version of the compiler. (use_device_ptr.f95: 29)
  0 inform,   1 warnings,   0 severes, 0 fatal for main

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  veccopy.c -o veccopy  

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  vmul.c -o vmul  
opt: /home/dsalinas/work/Staging/external/llvm-project/llvm/lib/Analysis/ScalarEvolution.cpp:1201: const llvm::SCEV* llvm::ScalarEvolution::getTruncateExpr(const llvm::SCEV*, llvm::Type*, unsigned int): Assertion `!Op->getType()->isPointerTy() && "Can't truncate pointer!"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.	Program arguments: /opt/rocm-5.6.0-3024/llvm//bin/opt /tmp/vmul-1a6466-gfx90a-linked-28705b.bc --amdhsa-code-object-version=5 -O2 -mtriple=amdgcn-amd-amdhsa -mcpu=gfx90a -o /tmp/vmul-1a6466-gfx90a-optimized-62082b.bc
 #0 0x00005648a5733f2f llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2488f2f)
 #1 0x00005648a57318f4 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007ff8a1127420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007ff8a0bc400b raise /build/glibc-SzIz7B/glibc-2.31/signal/../sysdeps/unix/sysv/linux/raise.c:51:1
 #4 0x00007ff8a0ba3859 abort /build/glibc-SzIz7B/glibc-2.31/stdlib/abort.c:81:7
 #5 0x00007ff8a0ba3729 get_sysdep_segment_value /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:509:8
 #6 0x00007ff8a0ba3729 _nl_load_domain /build/glibc-SzIz7B/glibc-2.31/intl/loadmsgcat.c:970:34
 #7 0x00007ff8a0bb4fd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #8 0x00005648a4562bb1 llvm::ScalarEvolution::getTruncateExpr(llvm::SCEV const*, llvm::Type*, unsigned int) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12b7bb1)
 #9 0x00005648a45535c5 llvm::ScalarEvolution::createSCEV(llvm::Value*) (.part.0) ScalarEvolution.cpp:0:0
#10 0x00005648a455418d llvm::ScalarEvolution::createSCEVIter(llvm::Value*) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x12a918d)
#11 0x00005648a4f507f2 (anonymous namespace)::AAValueConstantRangeImpl::getConstantRangeFromSCEV(llvm::Attributor&, llvm::Instruction const*) const AttributorAttributes.cpp:0:0
#12 0x00005648a4f5136e (anonymous namespace)::AAValueConstantRangeImpl::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#13 0x00005648a4f5c642 (anonymous namespace)::AAValueConstantRangeFloating::initialize(llvm::Attributor&) AttributorAttributes.cpp:0:0
#14 0x00005648a4f7f579 llvm::AAValueConstantRange const& llvm::Attributor::getOrCreateAAFor<llvm::AAValueConstantRange>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1cd4579)
#15 0x00005648a4f930ab (anonymous namespace)::AAPotentialValuesImpl::addValue(llvm::Attributor&, llvm::PotentialValuesState<std::pair<llvm::AA::ValueAndContext, llvm::AA::ValueScope>>&, llvm::Value&, llvm::Instruction const*, llvm::AA::ValueScope, llvm::Function*) const AttributorAttributes.cpp:0:0
#16 0x00005648a4f9353c (anonymous namespace)::AAPotentialValuesImpl::recurseForValue(llvm::Attributor&, llvm::IRPosition const&, llvm::AA::ValueScope) AttributorAttributes.cpp:0:0
#17 0x00005648a4f94244 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#18 0x00005648a4efe9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#19 0x00005648a4f1146b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#20 0x00005648a4f11b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#21 0x00005648a4f11d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#22 0x00005648a4f121a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#23 0x00005648a4f94473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#24 0x00005648a4efe9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#25 0x00005648a4f1146b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#26 0x00005648a4f11b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#27 0x00005648a4f11d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#28 0x00005648a4f121a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#29 0x00005648a4f94473 (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#30 0x00005648a4efe9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#31 0x00005648a4f1146b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#32 0x00005648a4f11b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#33 0x00005648a4f11d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#34 0x00005648a4f121a6 llvm::Attributor::getAssumedSimplified(llvm::IRPosition const&, llvm::AbstractAttribute const*, bool&, llvm::AA::ValueScope) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c671a6)
#35 0x00005648a4f931bc (anonymous namespace)::AAPotentialValuesFloating::handleCmp(llvm::Attributor&, llvm::Value&, llvm::Value*, llvm::Value*, llvm::CmpInst::Predicate, (anonymous namespace)::AAPotentialValuesImpl::ItemInfo, llvm::SmallVectorImpl<(anonymous namespace)::AAPotentialValuesImpl::ItemInfo>&) (.isra.0) AttributorAttributes.cpp:0:0
#36 0x00005648a4f9430b (anonymous namespace)::AAPotentialValuesFloating::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#37 0x00005648a4efe9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#38 0x00005648a4f1146b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#39 0x00005648a4f11b0d llvm::AAPotentialValues const& llvm::Attributor::getOrCreateAAFor<llvm::AAPotentialValues>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66b0d)
#40 0x00005648a4f11d1e llvm::Attributor::getAssumedSimplifiedValues(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::SmallVectorImpl<llvm::AA::ValueAndContext>&, llvm::AA::ValueScope, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66d1e)
#41 0x00005648a4f12778 llvm::Attributor::getAssumedConstant(llvm::IRPosition const&, llvm::AbstractAttribute const&, bool&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c67778)
#42 0x00005648a4f7410c (anonymous namespace)::AAIsDeadFunction::updateImpl(llvm::Attributor&) AttributorAttributes.cpp:0:0
#43 0x00005648a4efe9ba llvm::AbstractAttribute::update(llvm::Attributor&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c539ba)
#44 0x00005648a4f1146b llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c6646b)
#45 0x00005648a4f107bd llvm::AAIsDead const& llvm::Attributor::getOrCreateAAFor<llvm::AAIsDead>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c657bd)
#46 0x00005648a4f10960 llvm::Attributor::isAssumedDead(llvm::Instruction const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65960)
#47 0x00005648a4f10c30 llvm::Attributor::isAssumedDead(llvm::IRPosition const&, llvm::AbstractAttribute const*, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c65c30)
#48 0x00005648a4f110cf llvm::Attributor::isAssumedDead(llvm::AbstractAttribute const&, llvm::AAIsDead const*, bool&, bool, llvm::DepClassTy) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c660cf)
#49 0x00005648a4f11338 llvm::Attributor::updateAA(llvm::AbstractAttribute&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1c66338)
#50 0x00005648a5066c84 (anonymous namespace)::AAHeapToShared const& llvm::Attributor::getOrCreateAAFor<(anonymous namespace)::AAHeapToShared>(llvm::IRPosition, llvm::AbstractAttribute const*, llvm::DepClassTy, bool, bool) (.constprop.0) OpenMPOpt.cpp:0:0
#51 0x00005648a5067212 (anonymous namespace)::OpenMPOpt::registerAAsForFunction(llvm::Attributor&, llvm::Function const&) OpenMPOpt.cpp:0:0
#52 0x00005648a5067797 (anonymous namespace)::OpenMPOpt::runAttributor(bool) (.part.0) OpenMPOpt.cpp:0:0
#53 0x00005648a5069c81 (anonymous namespace)::OpenMPOpt::run(bool) OpenMPOpt.cpp:0:0
#54 0x00005648a506c29d llvm::OpenMPOptCGSCCPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1dc129d)
#55 0x00005648a5ad3896 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::OpenMPOptCGSCCPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2828896)
#56 0x00005648a4356817 llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10ab817)
#57 0x00005648a4ffe3f6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::PassManager<llvm::LazyCallGraph::SCC, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533f6)
#58 0x00005648a435ac20 llvm::DevirtSCCRepeatedPass::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10afc20)
#59 0x00005648a4ffe3a6 llvm::detail::PassModel<llvm::LazyCallGraph::SCC, llvm::DevirtSCCRepeatedPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&>::run(llvm::LazyCallGraph::SCC&, llvm::AnalysisManager<llvm::LazyCallGraph::SCC, llvm::LazyCallGraph&>&, llvm::LazyCallGraph&, llvm::CGSCCUpdateResult&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d533a6)
#60 0x00005648a4358ca4 llvm::ModuleToPostOrderCGSCCPassAdaptor::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x10adca4)
#61 0x00005648a50045ba llvm::ModuleInlinerWrapperPass::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1d595ba)
#62 0x00005648a5ad0456 llvm::detail::PassModel<llvm::Module, llvm::ModuleInlinerWrapperPass, llvm::PreservedAnalyses, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x2825456)
#63 0x00005648a4e8d1ea llvm::PassManager<llvm::Module, llvm::AnalysisManager<llvm::Module>>::run(llvm::Module&, llvm::AnalysisManager<llvm::Module>&) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x1be21ea)
#64 0x00005648a3a393f5 llvm::runPassPipeline(llvm::StringRef, llvm::Module&, llvm::TargetMachine*, llvm::TargetLibraryInfoImpl*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::ToolOutputFile*, llvm::StringRef, llvm::ArrayRef<llvm::PassPlugin>, llvm::opt_tool::OutputKind, llvm::opt_tool::VerifierKind, bool, bool, bool, bool, bool, bool) (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x78e3f5)
#65 0x00005648a3992113 main (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x6e7113)
#66 0x00007ff8a0ba5083 __libc_start_main /build/glibc-SzIz7B/glibc-2.31/csu/../csu/libc-start.c:342:3
#67 0x00005648a3a2aebe _start (/opt/rocm-5.6.0-3024/llvm//bin/opt+0x77febe)
clang-16: error: unable to execute command: Aborted (core dumped)
clang-16: error: amdgcn-link command failed due to signal (use -v to see invocation)
AMD clang version 16.0.0 ( amd-npi 23095 03df34bcc80f52901e9cf0018791055dadab1b0f)
Target: x86_64-pc-linux-gnu
Thread model: posix
InstalledDir: /opt/rocm-5.6.0-3024/llvm//bin
clang-16: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [../Makefile.rules:26: vmul] Error 1

/opt/rocm-5.6.0-3024/llvm//bin/clang  -O2  -target x86_64-pc-linux-gnu -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx90a  main.c vmul.c vsum.c -o vmulsum  


[0;33mdevices - Run Log:[0m
--------------------------
Possible gpu arch mismatch: device:gfx908, image:gfx90a please check compiler flag: -march=<gpu>
Libomptarget error: Unable to generate entries table for device id 0.
Libomptarget error: Failed to init globals on device 0
Libomptarget error: Consult https://openmp.llvm.org/design/Runtimes.html for debugging options.
Libomptarget error: Source location information not present. Compile with -g or -gline-tables-only.
Libomptarget fatal error 1: failure of target construct while offloading is mandatory



[0;33mpfspecifier - Run Log:[0m
--------------------------
Possible gpu arch mismatch: device:gfx908, image:gfx90a please check compiler flag: -march=<gpu>
Libomptarget error: Unable to generate entries table for device id 0.
Libomptarget error: Failed to init globals on device 0
Libomptarget error: Consult https://openmp.llvm.org/design/Runtimes.html for debugging options.
Libomptarget error: Source location information not present. Compile with -g or -gline-tables-only.
Libomptarget fatal error 1: failure of target construct while offloading is mandatory



[0;33mpfspecifier_str - Run Log:[0m
--------------------------
Possible gpu arch mismatch: device:gfx908, image:gfx90a please check compiler flag: -march=<gpu>
Libomptarget error: Unable to generate entries table for device id 0.
Libomptarget error: Failed to init globals on device 0
Libomptarget error: Consult https://openmp.llvm.org/design/Runtimes.html for debugging options.
Libomptarget error: Source location information not present. Compile with -g or -gline-tables-only.
Libomptarget fatal error 1: failure of target construct while offloading is mandatory



[0;33mstream - Run Log:[0m
--------------------------
GPU-STREAM
Version: 2.1
Implementation: OpenMP 4.5
Running kernels 10 times
Precision: double
Array size: 268.4 MB (=0.3 GB)
Total size: 805.3 MB (=0.8 GB)
Possible gpu arch mismatch: device:gfx908, image:gfx90a please check compiler flag: -march=<gpu>
Libomptarget error: Unable to generate entries table for device id 0.
Libomptarget error: Failed to init globals on device 0
Libomptarget error: Consult https://openmp.llvm.org/design/Runtimes.html for debugging options.
Libomptarget error: Source location information not present. Compile with -g or -gline-tables-only.
Libomptarget fatal error 1: failure of target construct while offloading is mandatory



************************************************************************************
                   A non-zero exit code means a failure occured.
Tests that need to be visually inspected: devices, pfspecify, pfspecify_str, stream
***********************************************************************************
DeclareSharedMemory return code: 134

MasterBarrier return code: 134

MaxNumThrds return code: 134

Threads1xxx return code: 134

aomp_mappings return code: 134

atomic return code: 134

atomic_double return code: 134

class return code: 134

complex return code: 126

data_enter_issue01 return code: 134

decl_targ return code: 134

devices return code: 134

extern_init return code: 134

firstprivate2 return code: 134

flags 3 return code: 134

flags 4 return code: 134

flags 5 return code: 0

flags 6 return code: 0

flags 7 return code: 0

flags 8 return code: 0

function_overload return code: 134

function_template return code: 134

gdb_teams return code: 134

helloworld return code: 134

issue_001 return code: 134

issue_002 return code: 134

issue_flang_libomp return code: 0

launch_latency return code: 134

liba_bundled return code: 134

liba_bundled_cmdline return code: 134

lto_teams return code: 134

math_modff return code: 134

nativetests return code: 134

nest_call_par2 return code: 134

nested_loop return code: 134

nested_par3 return code: 134

omp_lock return code: 134

omp_num_teams_generic return code: 134

omp_wtime return code: 134

pfspecifier return code: 134

pfspecifier_str return code: 134

red_bug_51 return code: 134

reduce return code: 134

reduction return code: 134

reduction_array_section return code: 134

reduction_issue_16 return code: 134

reduction_team return code: 134

reduction_teams return code: 134

schedule return code: 134

simd return code: 134

snap_red return code: 134

stream return code: 134

targ_declare return code: 134

target-in-other-source return code: 134

targets_in_loop return code: 134

teams return code: 134

teams_nest return code: 134

test return code: 134

thread_limit return code: 134

threads return code: 134

unique-kernel-name return code: 134

use_device_ptr return code: 134

veccopy return code: 134

vmulsum return code: 134

ManyKernels: Make Failed
OmpHipMallocManaged: Make Failed
assertok_error: Make Failed
collapse: Make Failed
data_issue_59: Make Failed
dotprod_prob: Make Failed
firstprivate: Make Failed
flags 1: Make Failed
flags 2: Make Failed
function: Make Failed
hip_device_compile: Make Failed
hip_rocblas: Make Failed
map_zero_bug: Make Failed
math_flog: Make Failed
math_sqrt_float: Make Failed
omp_num_teams_SPMD: Make Failed
reduc_map_prob: Make Failed
reduction_teams_distribute_parallel: Make Failed
targ_static: Make Failed
target_teams_reduction: Make Failed
tasks: Make Failed
teams512-info: Make Failed
test_offload_macros: Make Failed
vmuldemo: Make Failed

[0;34m-------------------- Results --------------------[0m
[0;34mNumber of tests: 88[0m

[0;32mPassing tests: 5/88[0m

[0;31m
Known failures: reduction_array_section target_teams_reduction tasks map_zero_bug targ_static complex lto_teams extern_init dotprod_prob

Runtime Fails
--------------------
DeclareSharedMemory
MasterBarrier
MaxNumThrds
Threads1xxx
aomp_mappings
atomic
atomic_double
class
complex
data_enter_issue01
decl_targ
devices
extern_init
firstprivate2
flags 3
flags 4
function_overload
function_template
gdb_teams
helloworld
issue_001
issue_002
launch_latency
liba_bundled
liba_bundled_cmdline
lto_teams
math_modff
nativetests
nest_call_par2
nested_loop
nested_par3
omp_lock
omp_num_teams_generic
omp_wtime
pfspecifier
pfspecifier_str
red_bug_51
reduce
reduction
reduction_array_section
reduction_issue_16
reduction_team
reduction_teams
schedule
simd
snap_red
stream
targ_declare
target-in-other-source
targets_in_loop
teams
teams_nest
test
thread_limit
threads
unique-kernel-name
use_device_ptr
veccopy
vmulsum

Compile Fails
--------------------
ManyKernels: Make Failed
OmpHipMallocManaged: Make Failed
assertok_error: Make Failed
collapse: Make Failed
data_issue_59: Make Failed
dotprod_prob: Make Failed
firstprivate: Make Failed
flags 1: Make Failed
flags 2: Make Failed
function: Make Failed
hip_device_compile: Make Failed
hip_rocblas: Make Failed
map_zero_bug: Make Failed
math_flog: Make Failed
math_sqrt_float: Make Failed
omp_num_teams_SPMD: Make Failed
reduc_map_prob: Make Failed
reduction_teams_distribute_parallel: Make Failed
targ_static: Make Failed
target_teams_reduction: Make Failed
tasks: Make Failed
teams512-info: Make Failed
test_offload_macros: Make Failed
vmuldemo: Make Failed
[0m

[0;33m
---------- Please inspect the output above to verify the following tests ----------
devices
pfspecifier
pfspecifier_str
stream
[0m
/home/dsalinas/work/Staging/external/openmp-extras/aomp/test/smoke
